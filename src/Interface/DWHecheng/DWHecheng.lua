---===================================================
--雕纹系统
---===================================================
local MAX_OBJ_DISTANCE = 3.0
local g_CaredNpc = -1
local g_DWHECHENG_Item = -1
local g_DWHECHENG_DemandMoney = 50000
local g_DWHECHENG_GRID_SKIP = 95

local g_DWHECHENG_Action_Type = 8
local g_DWHECHENG_RScript_ID = 900014
local g_DWHECHENG_RSCript_Name = "DoDiaowenAction"

local g_DWHecheng_Frame_UnifiedPosition;
local g_DWHecheng_Confirmed = 0
local g_DWInfo = {
	["A"] = {{"力量雕纹1级","set:TattooShow image:TattooShow_1",2,10,"力量"},
			{"力量雕纹2级","set:TattooShow image:TattooShow_1",9,20,"力量"},
			{"力量雕纹3级","set:TattooShow image:TattooShow_1",50,40,"力量"},
			{"力量雕纹4级","set:TattooShow image:TattooShow_2",87,70,"力量"},
			{"力量雕纹5级","set:TattooShow image:TattooShow_2",165,110,"力量"},
			{"力量雕纹6级","set:TattooShow image:TattooShow_2",284,140,"力量"},
			{"力量雕纹7级","set:TattooShow image:TattooShow_3",597,170,"力量"},
			{"力量雕纹8级","set:TattooShow image:TattooShow_3",1508,210,"力量"},
			{"力量雕纹9级","set:TattooShow image:TattooShow_3",3088,240,"力量"},
			{"力量雕纹10级","set:TattooShow image:TattooShow_4",-1,280,"力量"},},
	["B"] = {{"灵气雕纹1级","set:TattooShow image:TattooShow_1",2,10,"灵气"},
			{"灵气雕纹2级","set:TattooShow image:TattooShow_1",9,20,"灵气"},
			{"灵气雕纹3级","set:TattooShow image:TattooShow_1",50,40,"灵气"},
			{"灵气雕纹4级","set:TattooShow image:TattooShow_2",87,70,"灵气"},
			{"灵气雕纹5级","set:TattooShow image:TattooShow_2",165,110,"灵气"},
			{"灵气雕纹6级","set:TattooShow image:TattooShow_2",284,140,"灵气"},
			{"灵气雕纹7级","set:TattooShow image:TattooShow_3",597,170,"灵气"},
			{"灵气雕纹8级","set:TattooShow image:TattooShow_3",1508,210,"灵气"},
			{"灵气雕纹9级","set:TattooShow image:TattooShow_3",3088,240,"灵气"},
			{"灵气雕纹10级","set:TattooShow image:TattooShow_4",-1,280,"灵气"},},
	["C"] = {{"身法雕纹1级","set:TattooShow image:TattooShow_1",2,10,"身法"},
			{"身法雕纹2级","set:TattooShow image:TattooShow_1",9,20,"身法"},
			{"身法雕纹3级","set:TattooShow image:TattooShow_1",50,40,"身法"},
			{"身法雕纹4级","set:TattooShow image:TattooShow_2",87,70,"身法"},
			{"身法雕纹5级","set:TattooShow image:TattooShow_2",165,110,"身法"},
			{"身法雕纹6级","set:TattooShow image:TattooShow_2",284,140,"身法"},
			{"身法雕纹7级","set:TattooShow image:TattooShow_3",597,170,"身法"},
			{"身法雕纹8级","set:TattooShow image:TattooShow_3",1508,210,"身法"},
			{"身法雕纹9级","set:TattooShow image:TattooShow_3",3088,240,"身法"},
			{"身法雕纹10级","set:TattooShow image:TattooShow_4",-1,280,"身法"},},
	["D"] = {{"体力雕纹1级","set:TattooShow image:TattooShow_1",2,10,"体力"},
			{"体力雕纹2级","set:TattooShow image:TattooShow_1",9,20,"体力"},
			{"体力雕纹3级","set:TattooShow image:TattooShow_1",50,40,"体力"},
			{"体力雕纹4级","set:TattooShow image:TattooShow_2",87,70,"体力"},
			{"体力雕纹5级","set:TattooShow image:TattooShow_2",165,110,"体力"},
			{"体力雕纹6级","set:TattooShow image:TattooShow_2",284,140,"体力"},
			{"体力雕纹7级","set:TattooShow image:TattooShow_3",597,170,"体力"},
			{"体力雕纹8级","set:TattooShow image:TattooShow_3",1508,210,"体力"},
			{"体力雕纹9级","set:TattooShow image:TattooShow_3",3088,240,"体力"},
			{"体力雕纹10级","set:TattooShow image:TattooShow_4",-1,280,"体力"},},
	["E"] = {{"定力雕纹1级","set:TattooShow image:TattooShow_1",2,10,"定力"},
			{"定力雕纹2级","set:TattooShow image:TattooShow_1",9,20,"定力"},
			{"定力雕纹3级","set:TattooShow image:TattooShow_1",50,40,"定力"},
			{"定力雕纹4级","set:TattooShow image:TattooShow_2",87,70,"定力"},
			{"定力雕纹5级","set:TattooShow image:TattooShow_2",165,110,"定力"},
			{"定力雕纹6级","set:TattooShow image:TattooShow_2",284,140,"定力"},
			{"定力雕纹7级","set:TattooShow image:TattooShow_3",597,170,"定力"},
			{"定力雕纹8级","set:TattooShow image:TattooShow_3",1508,210,"定力"},
			{"定力雕纹9级","set:TattooShow image:TattooShow_3",3088,240,"定力"},
			{"定力雕纹10级","set:TattooShow image:TattooShow_4",-1,280,"定力"},},
	["F"] = {{"冰攻雕纹1级","set:TattooShow image:TattooShow_9",2,10,"冰攻"},
			{"冰攻雕纹2级","set:TattooShow image:TattooShow_9",9,20,"冰攻"},
			{"冰攻雕纹3级","set:TattooShow image:TattooShow_9",50,30,"冰攻"},
			{"冰攻雕纹4级","set:TattooShow image:TattooShow_10",87,60,"冰攻"},
			{"冰攻雕纹5级","set:TattooShow image:TattooShow_10",165,100,"冰攻"},
			{"冰攻雕纹6级","set:TattooShow image:TattooShow_10",284,120,"冰攻"},
			{"冰攻雕纹7级","set:TattooShow image:TattooShow_11",597,140,"冰攻"},
			{"冰攻雕纹8级","set:TattooShow image:TattooShow_11",1508,170,"冰攻"},
			{"冰攻雕纹9级","set:TattooShow image:TattooShow_11",3088,200,"冰攻"},
			{"冰攻雕纹10级","set:TattooShow image:TattooShow_12",-1,240,"冰攻"},},
	["G"] = {{"火攻雕纹1级","set:TattooShow image:TattooShow_9",2,10,"火攻"},
			{"火攻雕纹2级","set:TattooShow image:TattooShow_9",9,20,"火攻"},
			{"火攻雕纹3级","set:TattooShow image:TattooShow_9",50,30,"火攻"},
			{"火攻雕纹4级","set:TattooShow image:TattooShow_10",87,60,"火攻"},
			{"火攻雕纹5级","set:TattooShow image:TattooShow_10",165,100,"火攻"},
			{"火攻雕纹6级","set:TattooShow image:TattooShow_10",284,120,"火攻"},
			{"火攻雕纹7级","set:TattooShow image:TattooShow_11",597,140,"火攻"},
			{"火攻雕纹8级","set:TattooShow image:TattooShow_11",1508,170,"火攻"},
			{"火攻雕纹9级","set:TattooShow image:TattooShow_11",3088,200,"火攻"},
			{"火攻雕纹10级","set:TattooShow image:TattooShow_12",-1,240,"火攻"},},
	["H"] = {{"玄攻雕纹1级","set:TattooShow image:TattooShow_9",2,10,"玄攻"},
			{"玄攻雕纹2级","set:TattooShow image:TattooShow_9",9,20,"玄攻"},
			{"玄攻雕纹3级","set:TattooShow image:TattooShow_9",50,30,"玄攻"},
			{"玄攻雕纹4级","set:TattooShow image:TattooShow_10",87,60,"玄攻"},
			{"玄攻雕纹5级","set:TattooShow image:TattooShow_10",165,100,"玄攻"},
			{"玄攻雕纹6级","set:TattooShow image:TattooShow_10",284,120,"玄攻"},
			{"玄攻雕纹7级","set:TattooShow image:TattooShow_11",597,140,"玄攻"},
			{"玄攻雕纹8级","set:TattooShow image:TattooShow_11",1508,170,"玄攻"},
			{"玄攻雕纹9级","set:TattooShow image:TattooShow_11",3088,200,"玄攻"},
			{"玄攻雕纹10级","set:TattooShow image:TattooShow_12",-1,240,"玄攻"},},
	["I"] = {{"毒攻雕纹1级","set:TattooShow image:TattooShow_9",2,10,"毒攻"},
			{"毒攻雕纹2级","set:TattooShow image:TattooShow_9",9,20,"毒攻"},
			{"毒攻雕纹3级","set:TattooShow image:TattooShow_9",50,30,"毒攻"},
			{"毒攻雕纹4级","set:TattooShow image:TattooShow_10",87,60,"毒攻"},
			{"毒攻雕纹5级","set:TattooShow image:TattooShow_10",165,100,"毒攻"},
			{"毒攻雕纹6级","set:TattooShow image:TattooShow_10",284,120,"毒攻"},
			{"毒攻雕纹7级","set:TattooShow image:TattooShow_11",597,140,"毒攻"},
			{"毒攻雕纹8级","set:TattooShow image:TattooShow_11",1508,170,"毒攻"},
			{"毒攻雕纹9级","set:TattooShow image:TattooShow_11",3088,200,"毒攻"},
			{"毒攻雕纹10级","set:TattooShow image:TattooShow_12",-1,240,"毒攻"},},
	["J"] = {{"减冰抗雕纹1级","set:TattooShow image:TattooShow_17",6,3,"减冰抗"},
			{"减冰抗雕纹2级","set:TattooShow image:TattooShow_17",27,8,"减冰抗"},
			{"减冰抗雕纹3级","set:TattooShow image:TattooShow_17",150,17,"减冰抗"},
			{"减冰抗雕纹4级","set:TattooShow image:TattooShow_18",261,35,"减冰抗"},
			{"减冰抗雕纹5级","set:TattooShow image:TattooShow_18",495,42,"减冰抗"},
			{"减冰抗雕纹6级","set:TattooShow image:TattooShow_18",852,50,"减冰抗"},
			{"减冰抗雕纹7级","set:TattooShow image:TattooShow_19",2433,60,"减冰抗"},
			{"减冰抗雕纹8级","set:TattooShow image:TattooShow_19",4264,70,"减冰抗"},
			{"减冰抗雕纹9级","set:TattooShow image:TattooShow_19",5832,80,"减冰抗"},
			{"减冰抗雕纹10级","set:TattooShow image:TattooShow_20",-1,90,"减冰抗"},},
	["K"] = {{"减火抗雕纹1级","set:TattooShow image:TattooShow_17",6,3,"减火抗"},
			{"减火抗雕纹2级","set:TattooShow image:TattooShow_17",27,8,"减火抗"},
			{"减火抗雕纹3级","set:TattooShow image:TattooShow_17",150,17,"减火抗"},
			{"减火抗雕纹4级","set:TattooShow image:TattooShow_18",261,35,"减火抗"},
			{"减火抗雕纹5级","set:TattooShow image:TattooShow_18",495,42,"减火抗"},
			{"减火抗雕纹6级","set:TattooShow image:TattooShow_18",852,50,"减火抗"},
			{"减火抗雕纹7级","set:TattooShow image:TattooShow_19",2433,60,"减火抗"},
			{"减火抗雕纹8级","set:TattooShow image:TattooShow_19",4264,70,"减火抗"},
			{"减火抗雕纹9级","set:TattooShow image:TattooShow_19",5832,80,"减火抗"},
			{"减火抗雕纹10级","set:TattooShow image:TattooShow_20",-1,90,"减火抗"},},
	["L"] = {{"减玄抗雕纹1级","set:TattooShow image:TattooShow_17",6,3,"减玄抗"},
			{"减玄抗雕纹2级","set:TattooShow image:TattooShow_17",27,8,"减玄抗"},
			{"减玄抗雕纹3级","set:TattooShow image:TattooShow_17",150,17,"减玄抗"},
			{"减玄抗雕纹4级","set:TattooShow image:TattooShow_18",261,35,"减玄抗"},
			{"减玄抗雕纹5级","set:TattooShow image:TattooShow_18",495,42,"减玄抗"},
			{"减玄抗雕纹6级","set:TattooShow image:TattooShow_18",852,50,"减玄抗"},
			{"减玄抗雕纹7级","set:TattooShow image:TattooShow_19",2433,60,"减玄抗"},
			{"减玄抗雕纹8级","set:TattooShow image:TattooShow_19",4264,70,"减玄抗"},
			{"减玄抗雕纹9级","set:TattooShow image:TattooShow_19",5832,80,"减玄抗"},
			{"减玄抗雕纹10级","set:TattooShow image:TattooShow_20",-1,90,"减玄抗"},},
	["M"] = {{"减毒抗雕纹1级","set:TattooShow image:TattooShow_17",6,3,"减毒抗"},
			{"减毒抗雕纹2级","set:TattooShow image:TattooShow_17",27,8,"减毒抗"},
			{"减毒抗雕纹3级","set:TattooShow image:TattooShow_17",150,17,"减毒抗"},
			{"减毒抗雕纹4级","set:TattooShow image:TattooShow_18",261,35,"减毒抗"},
			{"减毒抗雕纹5级","set:TattooShow image:TattooShow_18",495,42,"减毒抗"},
			{"减毒抗雕纹6级","set:TattooShow image:TattooShow_18",852,50,"减毒抗"},
			{"减毒抗雕纹7级","set:TattooShow image:TattooShow_19",2433,60,"减毒抗"},
			{"减毒抗雕纹8级","set:TattooShow image:TattooShow_19",4264,70,"减毒抗"},
			{"减毒抗雕纹9级","set:TattooShow image:TattooShow_19",5832,80,"减毒抗"},
			{"减毒抗雕纹10级","set:TattooShow image:TattooShow_20",-1,90,"减毒抗"},},
	["N"] = {{"冰抗雕纹1级","set:TattooShow image:TattooShow_13",2,3,"冰抗"},
			{"冰抗雕纹2级","set:TattooShow image:TattooShow_13",9,8,"冰抗"},
			{"冰抗雕纹3级","set:TattooShow image:TattooShow_13",50,17,"冰抗"},
			{"冰抗雕纹4级","set:TattooShow image:TattooShow_14",87,35,"冰抗"},
			{"冰抗雕纹5级","set:TattooShow image:TattooShow_14",165,42,"冰抗"},
			{"冰抗雕纹6级","set:TattooShow image:TattooShow_14",284,50,"冰抗"},
			{"冰抗雕纹7级","set:TattooShow image:TattooShow_15",597,60,"冰抗"},
			{"冰抗雕纹8级","set:TattooShow image:TattooShow_15",1508,70,"冰抗"},
			{"冰抗雕纹9级","set:TattooShow image:TattooShow_15",2730,80,"冰抗"},
			{"冰抗雕纹10级","set:TattooShow image:TattooShow_16",-1,90,"冰抗"},},
	["O"] = {{"火抗雕纹1级","set:TattooShow image:TattooShow_13",2,3,"火抗"},
			{"火抗雕纹2级","set:TattooShow image:TattooShow_13",9,8,"火抗"},
			{"火抗雕纹3级","set:TattooShow image:TattooShow_13",50,17,"火抗"},
			{"火抗雕纹4级","set:TattooShow image:TattooShow_14",87,35,"火抗"},
			{"火抗雕纹5级","set:TattooShow image:TattooShow_14",165,42,"火抗"},
			{"火抗雕纹6级","set:TattooShow image:TattooShow_14",284,50,"火抗"},
			{"火抗雕纹7级","set:TattooShow image:TattooShow_15",597,60,"火抗"},
			{"火抗雕纹8级","set:TattooShow image:TattooShow_15",1508,70,"火抗"},
			{"火抗雕纹9级","set:TattooShow image:TattooShow_15",2730,80,"火抗"},
			{"火抗雕纹10级","set:TattooShow image:TattooShow_16",-1,90,"火抗"},},
	["P"] = {{"玄抗雕纹1级","set:TattooShow image:TattooShow_13",2,3,"玄抗"},
			{"玄抗雕纹2级","set:TattooShow image:TattooShow_13",9,8,"玄抗"},
			{"玄抗雕纹3级","set:TattooShow image:TattooShow_13",50,17,"玄抗"},
			{"玄抗雕纹4级","set:TattooShow image:TattooShow_14",87,35,"玄抗"},
			{"玄抗雕纹5级","set:TattooShow image:TattooShow_14",165,42,"玄抗"},
			{"玄抗雕纹6级","set:TattooShow image:TattooShow_14",284,50,"玄抗"},
			{"玄抗雕纹7级","set:TattooShow image:TattooShow_15",597,60,"玄抗"},
			{"玄抗雕纹8级","set:TattooShow image:TattooShow_15",1508,70,"玄抗"},
			{"玄抗雕纹9级","set:TattooShow image:TattooShow_15",2730,80,"玄抗"},
			{"玄抗雕纹10级","set:TattooShow image:TattooShow_16",-1,90,"玄抗"},},
	["Q"] = {{"毒抗雕纹1级","set:TattooShow image:TattooShow_13",2,3,"毒抗"},
			{"毒抗雕纹2级","set:TattooShow image:TattooShow_13",9,8,"毒抗"},
			{"毒抗雕纹3级","set:TattooShow image:TattooShow_13",50,17,"毒抗"},
			{"毒抗雕纹4级","set:TattooShow image:TattooShow_14",87,35,"毒抗"},
			{"毒抗雕纹5级","set:TattooShow image:TattooShow_14",165,42,"毒抗"},
			{"毒抗雕纹6级","set:TattooShow image:TattooShow_14",284,50,"毒抗"},
			{"毒抗雕纹7级","set:TattooShow image:TattooShow_15",597,60,"毒抗"},
			{"毒抗雕纹8级","set:TattooShow image:TattooShow_15",1508,70,"毒抗"},
			{"毒抗雕纹9级","set:TattooShow image:TattooShow_15",2730,80,"毒抗"},
			{"毒抗雕纹10级","set:TattooShow image:TattooShow_16",-1,90,"毒抗"},},
	["R"] = {{"忘无雕纹1级","set:TattooShow image:TattooShow_5",2,"强化第一本心法第一个技能，附加伤害15点","忘无"},
			{"忘无雕纹2级","set:TattooShow image:TattooShow_5",9,"强化第一本心法第一个技能，附加伤害30点","忘无"},
			{"忘无雕纹3级","set:TattooShow image:TattooShow_5",50,"强化第一本心法第一个技能，附加伤害45点","忘无"},
			{"忘无雕纹4级","set:TattooShow image:TattooShow_6",87,"强化第一本心法第一个技能，附加伤害90点","忘无"},
			{"忘无雕纹5级","set:TattooShow image:TattooShow_6",165,"强化第一本心法第一个技能，附加伤害150点","忘无"},
			{"忘无雕纹6级","set:TattooShow image:TattooShow_6",284,"强化第一本心法第一个技能，附加伤害180点","忘无"},
			{"忘无雕纹7级","set:TattooShow image:TattooShow_7",597,"强化第一本心法第一个技能，附加伤害195点","忘无"},
			{"忘无雕纹8级","set:TattooShow image:TattooShow_7",1508,"强化第一本心法第一个技能，附加伤害210点","忘无"},
			{"忘无雕纹9级","set:TattooShow image:TattooShow_7",3088,"强化第一本心法第一个技能，附加伤害270点","忘无"},
			{"忘无雕纹10级","set:TattooShow image:TattooShow_8",-1,"强化第一本心法第一个技能，附加伤害360点","忘无"},},
	["S"] = {{"冥想雕纹1级","set:TattooShow image:TattooShow_5",2,"强化第二本心法第一个技能，技能的伤害效果提升10%","冥想"},
			{"冥想雕纹2级","set:TattooShow image:TattooShow_5",9,"强化第二本心法第一个技能，技能的伤害效果提升20%","冥想"},
			{"冥想雕纹3级","set:TattooShow image:TattooShow_5",50,"强化第二本心法第一个技能，技能的伤害效果提升40%","冥想"},
			{"冥想雕纹4级","set:TattooShow image:TattooShow_6",87,"强化第二本心法第一个技能，技能的伤害效果提升70%","冥想"},
			{"冥想雕纹5级","set:TattooShow image:TattooShow_6",165,"强化第二本心法第一个技能，技能的伤害效果提升100%","冥想"},
			{"冥想雕纹6级","set:TattooShow image:TattooShow_6",284,"强化第二本心法第一个技能，技能的伤害效果提升110%","冥想"},
			{"冥想雕纹7级","set:TattooShow image:TattooShow_7",597,"强化第二本心法第一个技能，技能的伤害效果提升120%","冥想"},
			{"冥想雕纹8级","set:TattooShow image:TattooShow_7",1508,"强化第二本心法第一个技能，技能的伤害效果提升130%","冥想"},
			{"冥想雕纹9级","set:TattooShow image:TattooShow_7",3088,"强化第二本心法第一个技能，技能的伤害效果提升140%","冥想"},
			{"冥想雕纹10级","set:TattooShow image:TattooShow_8",-1,"强化第二本心法第一个技能，技能的伤害效果提升150%","冥想"},},
	["T"] = {{"御劲雕纹1级","set:TattooShow image:TattooShow_5",2,"强化第五本心法第二个技能，技能的伤害效果提升10%","御劲"},
			{"御劲雕纹2级","set:TattooShow image:TattooShow_5",9,"强化第五本心法第二个技能，技能的伤害效果提升20%","御劲"},
			{"御劲雕纹3级","set:TattooShow image:TattooShow_5",50,"强化第五本心法第二个技能，技能的伤害效果提升40%","御劲"},
			{"御劲雕纹4级","set:TattooShow image:TattooShow_6",87,"强化第五本心法第二个技能，技能的伤害效果提升70%","御劲"},
			{"御劲雕纹5级","set:TattooShow image:TattooShow_6",165,"强化第五本心法第二个技能，技能的伤害效果提升100%","御劲"},
			{"御劲雕纹6级","set:TattooShow image:TattooShow_6",284,"强化第五本心法第二个技能，技能的伤害效果提升110%","御劲"},
			{"御劲雕纹7级","set:TattooShow image:TattooShow_7",597,"强化第五本心法第二个技能，技能的伤害效果提升120%","御劲"},
			{"御劲雕纹8级","set:TattooShow image:TattooShow_7",1508,"强化第五本心法第二个技能，技能的伤害效果提升130%","御劲"},
			{"御劲雕纹9级","set:TattooShow image:TattooShow_7",3088,"强化第五本心法第二个技能，技能的伤害效果提升140%","御劲"},
			{"御劲雕纹10级","set:TattooShow image:TattooShow_8",-1,"强化第五本心法第二个技能，技能的伤害效果提升150%","御劲"},},
	["U"] = {{"暴怒雕纹1级","set:TattooShow image:TattooShow_5",2,"强化第六本心法第一个技能，技能的伤害效果提升10%","暴怒"},
			{"暴怒雕纹2级","set:TattooShow image:TattooShow_5",9,"强化第六本心法第一个技能，技能的伤害效果提升20%","暴怒"},
			{"暴怒雕纹3级","set:TattooShow image:TattooShow_5",50,"强化第六本心法第一个技能，技能的伤害效果提升40%","暴怒"},
			{"暴怒雕纹4级","set:TattooShow image:TattooShow_6",87,"强化第六本心法第一个技能，技能的伤害效果提升70%","暴怒"},
			{"暴怒雕纹5级","set:TattooShow image:TattooShow_6",165,"强化第六本心法第一个技能，技能的伤害效果提升100%","暴怒"},
			{"暴怒雕纹6级","set:TattooShow image:TattooShow_6",284,"强化第六本心法第一个技能，技能的伤害效果提升110%","暴怒"},
			{"暴怒雕纹7级","set:TattooShow image:TattooShow_7",597,"强化第六本心法第一个技能，技能的伤害效果提升120%","暴怒"},
			{"暴怒雕纹8级","set:TattooShow image:TattooShow_7",1508,"强化第六本心法第一个技能，技能的伤害效果提升130%","暴怒"},
			{"暴怒雕纹9级","set:TattooShow image:TattooShow_7",3088,"强化第六本心法第一个技能，技能的伤害效果提升140%","暴怒"},
			{"暴怒雕纹10级","set:TattooShow image:TattooShow_8",-1,"强化第六本心法第一个技能，技能的伤害效果提升150%","暴怒"},},
	}
local g_DWRuleTab = { --雕纹规则表
	[1] = {0,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0},
	[2] = {0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0},
	[3] = {0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	[4] = {0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0},
	[5] = {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	[6] = {0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	[7] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0},
	[8] = {0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	[9] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0},
	[10] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0},
	[11] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0},
	[12] = {0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0},
	[13] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
	[14] = {0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0},
	[15] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	}
local g_DWValue = {[30110001] =1,[30110002] =1,[30110003] =1,[30110004] =1,[30110005] =1,[30110006] =1,[30110007] =1,[30110008] =1,[30110009] =1,[30110010] =1,[30110011] =1,[30110012] =1,[30110013] =1,[30110014] =1,[30110015] =1,[30110016] =1,[30110017] =1,[30110018] =1,[30110019] =1,[30110020] =1,[30110021] =1,[30110022] =1,[30110023] =1,[30110024] =1,[30110025] =1,[30110026] =1,[30110027] =1,[30110028] =1,[30110029] =1,[30110030] =1,[30110031] =2,[30110032] =2,[30110033] =2,[30110034] =2,[30110035] =2,[30110036] =2,[30110037] =2,[30110038] =2,[30110039] =2,[30110040] =2,[30110041] =2,[30110042] =2,[30110043] =2,[30110044] =2,[30110045] =2,[30110046] =2,[30110047] =2,[30110048] =2,[30110049] =2,[30110050] =2,[30110051] =2,[30110052] =2,[30110053] =2,[30110054] =2,[30110055] =2,[30110056] =2,[30110057] =2,[30110058] =2,[30110059] =2,[30110060] =2,[30110061] =2,[30110062] =2,[30110063] =2,[30110064] =2,[30110065] =2,[30110066] =2,[30110067] =2,[30110068] =2,[30110069] =2,[30110070] =2,[30110071] =3,[30110072] =3,[30110073] =3,[30110074] =3,[30110075] =3,[30110076] =3,[30110077] =3,[30110078] =3,[30110079] =3,[30110080] =3,[30110081] =3,[30110082] =3,[30110083] =3,[30110084] =3,[30110085] =3,[30110086] =3,[30110087] =3,[30110088] =3,[30110089] =3,[30110090] =3,[30110091] =4,[30110092] =4,[30110093] =4,[30110094] =4,[30110095] =4,[30110096] =4,[30110097] =4,[30110098] =4,[30110099] =4,[30110100] =4,[30110101] =4,[30110102] =4,[30110103] =4,[30110104] =4,[30110105] =4,[30110106] =4,[30110107] =4,[30110108] =4,[30110109] =4,[30110110] =4,[30110111] =5,[30110112] =5,[30110113] =5,[30110114] =5,[30110115] =5,[30110116] =5,[30110117] =5,[30110118] =5,[30110119] =5,[30110120] =5,[30110121] =5,[30110122] =5,[30110123] =5,[30110124] =5,[30110125] =5,[30110126] =5,[30110127] =5,[30110128] =5,[30110129] =5,[30110130] =5,[30110131] =5,[30110132] =5,[30110133] =5,[30110134] =5,[30110135] =5,[30110136] =5,[30110137] =5,[30110138] =5,[30110139] =5,[30110140] =5,[30110141] =5,[30110142] =5,[30110143] =5,[30110144] =5,[30110145] =5,[30110146] =5,[30110147] =5,[30110148] =5,[30110149] =5,[30110150] =5,[30110151] =5,[30110152] =5,[30110153] =5,[30110154] =5,[30110155] =5,[30110156] =5,[30110157] =5,[30110158] =5,[30110159] =5,[30110160] =5,[30110161] =5,[30110162] =5,[30110163] =5,[30110164] =5,[30110165] =5,[30110166] =5,[30110167] =5,[30110168] =5,[30110169] =5,[30110170] =5,[30110171] =5,[30110172] =5,[30110173] =5,[30110174] =5,[30110175] =5,[30110176] =5,[30110177] =5,[30110178] =5,[30110179] =5,[30110180] =5,[30110181] =5,[30110182] =5,[30110183] =5,[30110184] =5,[30110185] =5,[30110186] =5,[30110187] =5,[30110188] =5,[30110189] =5,[30110190] =5,[30110191] =5,[30110192] =5,[30110193] =5,[30110194] =5,[30110195] =5,[30110196] =5,[30110197] =5,[30110198] =5,[30110199] =5,[30110200] =5,[30110201] =5,[30110202] =5,[30110203] =5,[30110204] =5,[30110205] =5,[30110206] =5,[30110207] =5,[30110208] =5,[30110209] =5,[30110210] =5,[30110211] =6,[30110212] =6,[30110213] =6,[30110214] =6,[30110215] =6,[30110216] =6,[30110217] =6,[30110218] =6,[30110219] =6,[30110220] =6,[30110221] =6,[30110222] =6,[30110223] =6,[30110224] =6,[30110225] =6,[30110226] =6,[30110227] =6,[30110228] =6,[30110229] =6,[30110230] =6,[30110231] =6,[30110232] =6,[30110233] =6,[30110234] =6,[30110235] =6,[30110236] =6,[30110237] =6,[30110238] =6,[30110239] =6,[30110240] =6,[30110241] =6,[30110242] =6,[30110243] =6,[30110244] =6,[30110245] =6,[30110246] =6,[30110247] =6,[30110248] =6,[30110249] =6,[30110250] =6,[30110251] =6,[30110252] =6,[30110253] =6,[30110254] =6,[30110255] =6,[30110256] =6,[30110257] =6,[30110258] =6,[30110259] =6,[30110260] =6,[30110261] =6,[30110262] =6,[30110263] =6,[30110264] =6,[30110265] =6,[30110266] =6,[30110267] =6,[30110268] =6,[30110269] =6,[30110270] =6,[30110271] =7,[30110272] =7,[30110273] =7,[30110274] =7,[30110275] =7,[30110276] =7,[30110277] =7,[30110278] =7,[30110279] =7,[30110280] =7,[30110281] =7,[30110282] =7,[30110283] =7,[30110284] =7,[30110285] =7,[30110286] =7,[30110287] =7,[30110288] =7,[30110289] =7,[30110290] =7,[30110291] =7,[30110292] =7,[30110293] =7,[30110294] =7,[30110295] =7,[30110296] =7,[30110297] =7,[30110298] =7,[30110299] =7,[30110300] =7,[30110301] =8,[30110302] =8,[30110303] =8,[30110304] =8,[30110305] =8,[30110306] =8,[30110307] =8,[30110308] =8,[30110309] =8,[30110310] =8,[30110311] =8,[30110312] =8,[30110313] =8,[30110314] =8,[30110315] =8,[30110316] =8,[30110317] =8,[30110318] =8,[30110319] =8,[30110320] =8,[30110321] =9,[30110322] =9,[30110323] =9,[30110324] =9,[30110325] =9,[30110326] =9,[30110327] =9,[30110328] =9,[30110329] =9,[30110330] =9,[30110331] =9,[30110332] =9,[30110333] =9,[30110334] =9,[30110335] =9,[30110336] =9,[30110337] =9,[30110338] =9,[30110339] =9,[30110340] =9,[30110341] =9,[30110342] =9,[30110343] =9,[30110344] =9,[30110345] =9,[30110346] =9,[30110347] =9,[30110348] =9,[30110349] =9,[30110350] =9,[30110351] =9,[30110352] =9,[30110353] =9,[30110354] =9,[30110355] =9,[30110356] =9,[30110357] =9,[30110358] =9,[30110359] =9,[30110360] =9,[30110361] =9,[30110362] =9,[30110363] =9,[30110364] =9,[30110365] =9,[30110366] =9,[30110367] =9,[30110368] =9,[30110369] =9,[30110370] =9,[30110371] =9,[30110372] =9,[30110373] =9,[30110374] =9,[30110375] =9,[30110376] =9,[30110377] =9,[30110378] =9,[30110379] =9,[30110380] =9,[30110381] =10,[30110382] =10,[30110383] =10,[30110384] =10,[30110385] =10,[30110386] =10,[30110387] =10,[30110388] =10,[30110389] =10,[30110390] =10,[30110391] =10,[30110392] =10,[30110393] =10,[30110394] =10,[30110395] =10,[30110396] =10,[30110397] =10,[30110398] =10,[30110399] =10,[30110400] =10,[30110401] =8,[30110402] =8,[30110403] =8,[30110404] =8,[30110405] =8,[30110406] =8,[30110407] =8,[30110408] =8,[30110409] =8,[30110410] =8,[30110411] =10,[30110412] =10,[30110413] =10,[30110414] =10,[30110415] =10,[30110416] =10,[30110417] =10,[30110418] =10,[30110419] =10,[30110420] =10,[30110421] =11,[30110422] =11,[30110423] =11,[30110424] =11,[30110425] =11,[30110426] =11,[30110427] =11,[30110428] =11,[30110429] =11,[30110430] =11,[30110431] =11,[30110432] =11,[30110433] =11,[30110434] =11,[30110435] =11,[30110436] =11,[30110437] =11,[30110438] =11,[30110439] =11,[30110440] =11,[30110441] =11,[30110442] =11,[30110443] =11,[30110444] =11,[30110445] =11,[30110446] =11,[30110447] =11,[30110448] =11,[30110449] =11,[30110450] =11,[30110451] =11,[30110452] =11,[30110453] =11,[30110454] =11,[30110455] =11,[30110456] =11,[30110457] =11,[30110458] =11,[30110459] =11,[30110460] =11,[30110461] =11,[30110462] =11,[30110463] =11,[30110464] =11,[30110465] =11,[30110466] =11,[30110467] =11,[30110468] =11,[30110469] =11,[30110470] =11,[30110471] =12,[30110472] =12,[30110473] =12,[30110474] =12,[30110475] =12,[30110476] =12,[30110477] =12,[30110478] =12,[30110479] =12,[30110480] =12,[30110481] =12,[30110482] =12,[30110483] =12,[30110484] =12,[30110485] =12,[30110486] =12,[30110487] =12,[30110488] =12,[30110489] =12,[30110490] =12,[30110491] =12,[30110492] =12,[30110493] =12,[30110494] =12,[30110495] =12,[30110496] =12,[30110497] =12,[30110498] =12,[30110499] =12,[30110500] =12,[30110501] =12,[30110502] =12,[30110503] =12,[30110504] =12,[30110505] =12,[30110506] =12,[30110507] =12,[30110508] =12,[30110509] =12,[30110510] =12,[30110511] =12,[30110512] =12,[30110513] =12,[30110514] =12,[30110515] =12,[30110516] =12,[30110517] =12,[30110518] =12,[30110519] =12,[30110520] =12,[30110521] =12,[30110522] =12,[30110523] =12,[30110524] =12,[30110525] =12,[30110526] =12,[30110527] =12,[30110528] =12,[30110529] =12,[30110530] =12,[30110531] =12,[30110532] =12,[30110533] =12,[30110534] =12,[30110535] =12,[30110536] =12,[30110537] =12,[30110538] =12,[30110539] =12,[30110540] =12,[30110541] =12,[30110542] =12,[30110543] =12,[30110544] =12,[30110545] =12,[30110546] =12,[30110547] =12,[30110548] =12,[30110549] =12,[30110550] =12,[30110551] =12,[30110552] =12,[30110553] =12,[30110554] =12,[30110555] =12,[30110556] =12,[30110557] =12,[30110558] =12,[30110559] =12,[30110560] =12,[30110561] =13,[30110562] =13,[30110563] =13,[30110564] =13,[30110565] =13,[30110566] =13,[30110567] =13,[30110568] =13,[30110569] =13,[30110570] =13,[30110571] =13,[30110572] =13,[30110573] =13,[30110574] =13,[30110575] =13,[30110576] =13,[30110577] =13,[30110578] =13,[30110579] =13,[30110580] =13,[30110581] =13,[30110582] =13,[30110583] =13,[30110584] =13,[30110585] =13,[30110586] =13,[30110587] =13,[30110588] =13,[30110589] =13,[30110590] =13,[30110591] =13,[30110592] =13,[30110593] =13,[30110594] =13,[30110595] =13,[30110596] =13,[30110597] =13,[30110598] =13,[30110599] =13,[30110600] =13,[30110601] =13,[30110602] =13,[30110603] =13,[30110604] =13,[30110605] =13,[30110606] =13,[30110607] =13,[30110608] =13,[30110609] =13,[30110610] =13,[30110611] =13,[30110612] =13,[30110613] =13,[30110614] =13,[30110615] =13,[30110616] =13,[30110617] =13,[30110618] =13,[30110619] =13,[30110620] =13,[30110621] =13,[30110622] =13,[30110623] =13,[30110624] =13,[30110625] =13,[30110626] =13,[30110627] =13,[30110628] =13,[30110629] =13,[30110630] =13,[30110631] =13,[30110632] =13,[30110633] =13,[30110634] =13,[30110635] =13,[30110636] =13,[30110637] =13,[30110638] =13,[30110639] =13,[30110640] =13,[30110641] =13,[30110642] =13,[30110643] =13,[30110644] =13,[30110645] =13,[30110646] =13,[30110647] =13,[30110648] =13,[30110649] =13,[30110650] =13,[30110651] =11,[30110652] =11,[30110653] =11,[30110654] =11,[30110655] =11,[30110656] =11,[30110657] =11,[30110658] =11,[30110659] =11,[30110660] =11,[30110661] =11,[30110662] =11,[30110663] =11,[30110664] =11,[30110665] =11,[30110666] =11,[30110667] =11,[30110668] =11,[30110669] =11,[30110670] =11,[30110671] =11,[30110672] =11,[30110673] =11,[30110674] =11,[30110675] =11,[30110676] =11,[30110677] =11,[30110678] =11,[30110679] =11,[30110680] =11,[30110681] =11,[30110682] =11,[30110683] =11,[30110684] =11,[30110685] =11,[30110686] =11,[30110687] =11,[30110688] =11,[30110689] =11,[30110690] =11,[30110691] =11,[30110692] =11,[30110693] =11,[30110694] =11,[30110695] =11,[30110696] =11,[30110697] =11,[30110698] =11,[30110699] =11,[30110700] =11,[30110701] =11,[30110702] =11,[30110703] =11,[30110704] =11,[30110705] =11,[30110706] =11,[30110707] =11,[30110708] =11,[30110709] =11,[30110710] =11,[30110711] =11,[30110712] =11,[30110713] =11,[30110714] =11,[30110715] =11,[30110716] =11,[30110717] =11,[30110718] =11,[30110719] =11,[30110720] =11,[30110721] =11,[30110722] =11,[30110723] =11,[30110724] =11,[30110725] =11,[30110726] =11,[30110727] =11,[30110728] =11,[30110729] =11,[30110730] =11,[30110731] =12,[30110732] =12,[30110733] =12,[30110734] =12,[30110735] =12,[30110736] =12,[30110737] =12,[30110738] =12,[30110739] =12,[30110740] =12,[30110741] =12,[30110742] =12,[30110743] =12,[30110744] =12,[30110745] =12,[30110746] =12,[30110747] =12,[30110748] =12,[30110749] =12,[30110750] =12,[30110751] =12,[30110752] =12,[30110753] =12,[30110754] =12,[30110755] =12,[30110756] =12,[30110757] =12,[30110758] =12,[30110759] =12,[30110760] =12,[30110761] =12,[30110762] =12,[30110763] =12,[30110764] =12,[30110765] =12,[30110766] =12,[30110767] =12,[30110768] =12,[30110769] =12,[30110770] =12,[30110771] =13,[30110772] =13,[30110773] =13,[30110774] =13,[30110775] =13,[30110776] =13,[30110777] =13,[30110778] =13,[30110779] =13,[30110780] =13,[30110781] =13,[30110782] =13,[30110783] =13,[30110784] =13,[30110785] =13,[30110786] =13,[30110787] =13,[30110788] =13,[30110789] =13,[30110790] =13,[30110791] =13,[30110792] =13,[30110793] =13,[30110794] =13,[30110795] =13,[30110796] =13,[30110797] =13,[30110798] =13,[30110799] =13,[30110800] =13,[30110801] =13,[30110802] =13,[30110803] =13,[30110804] =13,[30110805] =13,[30110806] =13,[30110807] =13,[30110808] =13,[30110809] =13,[30110810] =13,[30110811] =11,[30110812] =11,[30110813] =11,[30110814] =11,[30110815] =11,[30110816] =11,[30110817] =11,[30110818] =11,[30110819] =11,[30110820] =11,[30110821] =11,[30110822] =11,[30110823] =11,[30110824] =11,[30110825] =11,[30110826] =11,[30110827] =11,[30110828] =11,[30110829] =11,[30110830] =11,[30110831] =11,[30110832] =11,[30110833] =11,[30110834] =11,[30110835] =11,[30110836] =11,[30110837] =11,[30110838] =11,[30110839] =11,[30110840] =11,[30110841] =11,[30110842] =11,[30110843] =11,[30110844] =11,[30110845] =11,[30110846] =11,[30110847] =11,[30110848] =11,[30110849] =11,[30110850] =11,[30110851] =12,[30110852] =12,[30110853] =12,[30110854] =12,[30110855] =12,[30110856] =12,[30110857] =12,[30110858] =12,[30110859] =12,[30110860] =12,[30110861] =12,[30110862] =12,[30110863] =12,[30110864] =12,[30110865] =12,[30110866] =12,[30110867] =12,[30110868] =12,[30110869] =12,[30110870] =12,[30110871] =12,[30110872] =12,[30110873] =12,[30110874] =12,[30110875] =12,[30110876] =12,[30110877] =12,[30110878] =12,[30110879] =12,[30110880] =12,[30110881] =12,[30110882] =12,[30110883] =12,[30110884] =12,[30110885] =12,[30110886] =12,[30110887] =12,[30110888] =12,[30110889] =12,[30110890] =12,[30110891] =13,[30110892] =13,[30110893] =13,[30110894] =13,[30110895] =13,[30110896] =13,[30110897] =13,[30110898] =13,[30110899] =13,[30110900] =13,[30110901] =13,[30110902] =13,[30110903] =13,[30110904] =13,[30110905] =13,[30110906] =13,[30110907] =13,[30110908] =13,[30110909] =13,[30110910] =13,[30110911] =13,[30110912] =13,[30110913] =13,[30110914] =13,[30110915] =13,[30110916] =13,[30110917] =13,[30110918] =13,[30110919] =13,[30110920] =13,[30110921] =13,[30110922] =13,[30110923] =13,[30110924] =13,[30110925] =13,[30110926] =13,[30110927] =13,[30110928] =13,[30110929] =13,[30110930] =13,[30110931] =1,[30110932] =1,[30110933] =1,[30110934] =1,[30110935] =1,[30110936] =1,[30110937] =1,[30110938] =1,[30110939] =1,[30110940] =1,[30110941] =14,[30110942] =14,[30110943] =14,[30110944] =14,[30110945] =14,[30110946] =14,[30110947] =14,[30110948] =14,[30110949] =14,[30110950] =14,[30110951] =14,[30110952] =14,[30110953] =14,[30110954] =14,[30110955] =14,[30110956] =14,[30110957] =14,[30110958] =14,[30110959] =14,[30110960] =14,[30110961] =14,[30110962] =14,[30110963] =14,[30110964] =14,[30110965] =14,[30110966] =14,[30110967] =14,[30110968] =14,[30110969] =14,[30110970] =14,[30110971] =14,[30110972] =14,[30110973] =14,[30110974] =14,[30110975] =14,[30110976] =14,[30110977] =14,[30110978] =14,[30110979] =14,[30110980] =14,[30110981] =14,[30110982] =14,[30110983] =14,[30110984] =14,[30110985] =14,[30110986] =14,[30110987] =14,[30110988] =14,[30110989] =14,[30110990] =14,[30110991] =14,[30110992] =14,[30110993] =14,[30110994] =14,[30110995] =14,[30110996] =14,[30110997] =14,[30110998] =14,[30110999] =14,[30111000] =14,[30111001] =14,[30111002] =14,[30111003] =14,[30111004] =14,[30111005] =14,[30111006] =14,[30111007] =14,[30111008] =14,[30111009] =14,[30111010] =14,[30111011] =14,[30111012] =14,[30111013] =14,[30111014] =14,[30111015] =14,[30111016] =14,[30111017] =14,[30111018] =14,[30111019] =14,[30111020] =14,[30111021] =14,[30111022] =14,[30111023] =14,[30111024] =14,[30111025] =14,[30111026] =14,[30111027] =14,[30111028] =14,[30111029] =14,[30111030] =14,[30111031] =14,[30111032] =14,[30111033] =14,[30111034] =14,[30111035] =14,[30111036] =14,[30111037] =14,[30111038] =14,[30111039] =14,[30111040] =14,[30111041] =14,[30111042] =14,[30111043] =14,[30111044] =14,[30111045] =14,[30111046] =14,[30111047] =14,[30111048] =14,[30111049] =14,[30111050] =14,[30111051] =14,[30111052] =14,[30111053] =14,[30111054] =14,[30111055] =14,[30111056] =14,[30111057] =14,[30111058] =14,[30111059] =14,[30111060] =14,[30111061] =14,[30111062] =14,[30111063] =14,[30111064] =14,[30111065] =14,[30111066] =14,[30111067] =14,[30111068] =14,[30111069] =14,[30111070] =14,[30111071] =14,[30111072] =14,[30111073] =14,[30111074] =14,[30111075] =14,[30111076] =14,[30111077] =14,[30111078] =14,[30111079] =14,[30111080] =14,[30111081] =14,[30111082] =14,[30111083] =14,[30111084] =14,[30111085] =14,[30111086] =14,[30111087] =14,[30111088] =14,[30111089] =14,[30111090] =14,[30111091] =14,[30111092] =14,[30111093] =14,[30111094] =14,[30111095] =14,[30111096] =14,[30111097] =14,[30111098] =14,[30111099] =14,[30111100] =14,[30111101] =14,[30111102] =14,[30111103] =14,[30111104] =14,[30111105] =14,[30111106] =14,[30111107] =14,[30111108] =14,[30111109] =14,[30111110] =14,[30111111] =7,[30111112] =7,[30111113] =7,[30111114] =7,[30111115] =7,[30111116] =7,[30111117] =7,[30111118] =7,[30111119] =7,[30111120] =7,[30111121] =7,[30111122] =7,[30111123] =7,[30111124] =7,[30111125] =7,[30111126] =7,[30111127] =7,[30111128] =7,[30111129] =7,[30111130] =7,[30111131] =7,[30111132] =7,[30111133] =7,[30111134] =7,[30111135] =7,[30111136] =7,[30111137] =7,[30111138] =7,[30111139] =7,[30111140] =7,[30111141] =7,[30111142] =7,[30111143] =7,[30111144] =7,[30111145] =7,[30111146] =7,[30111147] =7,[30111148] =7,[30111149] =7,[30111150] =7,[30111151] =8,[30111152] =8,[30111153] =8,[30111154] =8,[30111155] =8,[30111156] =8,[30111157] =8,[30111158] =8,[30111159] =8,[30111160] =8,[30111161] =8,[30111162] =8,[30111163] =8,[30111164] =8,[30111165] =8,[30111166] =8,[30111167] =8,[30111168] =8,[30111169] =8,[30111170] =8,[30111171] =8,[30111172] =8,[30111173] =8,[30111174] =8,[30111175] =8,[30111176] =8,[30111177] =8,[30111178] =8,[30111179] =8,[30111180] =8,[30111181] =8,[30111182] =8,[30111183] =8,[30111184] =8,[30111185] =8,[30111186] =8,[30111187] =8,[30111188] =8,[30111189] =8,[30111190] =8,[30111191] =10,[30111192] =10,[30111193] =10,[30111194] =10,[30111195] =10,[30111196] =10,[30111197] =10,[30111198] =10,[30111199] =10,[30111200] =10,[30111201] =10,[30111202] =10,[30111203] =10,[30111204] =10,[30111205] =10,[30111206] =10,[30111207] =10,[30111208] =10,[30111209] =10,[30111210] =10,[30111211] =10,[30111212] =10,[30111213] =10,[30111214] =10,[30111215] =10,[30111216] =10,[30111217] =10,[30111218] =10,[30111219] =10,[30111220] =10,[30111221] =10,[30111222] =10,[30111223] =10,[30111224] =10,[30111225] =10,[30111226] =10,[30111227] =10,[30111228] =10,[30111229] =10,[30111230] =10,[30111231] =3,[30111232] =3,[30111233] =3,[30111234] =3,[30111235] =3,[30111236] =3,[30111237] =3,[30111238] =3,[30111239] =3,[30111240] =3,[30111241] =3,[30111242] =3,[30111243] =3,[30111244] =3,[30111245] =3,[30111246] =3,[30111247] =3,[30111248] =3,[30111249] =3,[30111250] =3,[30111251] =3,[30111252] =3,[30111253] =3,[30111254] =3,[30111255] =3,[30111256] =3,[30111257] =3,[30111258] =3,[30111259] =3,[30111260] =3,[30111261] =3,[30111262] =3,[30111263] =3,[30111264] =3,[30111265] =3,[30111266] =3,[30111267] =3,[30111268] =3,[30111269] =3,[30111270] =3,[30111271] =4,[30111272] =4,[30111273] =4,[30111274] =4,[30111275] =4,[30111276] =4,[30111277] =4,[30111278] =4,[30111279] =4,[30111280] =4,[30111281] =4,[30111282] =4,[30111283] =4,[30111284] =4,[30111285] =4,[30111286] =4,[30111287] =4,[30111288] =4,[30111289] =4,[30111290] =4,[30111291] =4,[30111292] =4,[30111293] =4,[30111294] =4,[30111295] =4,[30111296] =4,[30111297] =4,[30111298] =4,[30111299] =4,[30111300] =4,[30111301] =4,[30111302] =4,[30111303] =4,[30111304] =4,[30111305] =4,[30111306] =4,[30111307] =4,[30111308] =4,[30111309] =4,[30111310] =4,[30111311] =9,[30111312] =9,[30111313] =9,[30111314] =9,[30111315] =9,[30111316] =9,[30111317] =9,[30111318] =9,[30111319] =9,[30111320] =9,[30111321] =9,[30111322] =9,[30111323] =9,[30111324] =9,[30111325] =9,[30111326] =9,[30111327] =9,[30111328] =9,[30111329] =9,[30111330] =9,[30111331] =9,[30111332] =9,[30111333] =9,[30111334] =9,[30111335] =9,[30111336] =9,[30111337] =9,[30111338] =9,[30111339] =9,[30111340] =9,[30111341] =9,[30111342] =9,[30111343] =9,[30111344] =9,[30111345] =9,[30111346] =9,[30111347] =9,[30111348] =9,[30111349] =9,[30111350] =9,[30111351] =1,[30111352] =1,[30111353] =1,[30111354] =1,[30111355] =1,[30111356] =1,[30111357] =1,[30111358] =1,[30111359] =1,[30111360] =1,[30111361] =1,[30111362] =1,[30111363] =1,[30111364] =1,[30111365] =1,[30111366] =1,[30111367] =1,[30111368] =1,[30111369] =1,[30111370] =1,[30111371] =1,[30111372] =1,[30111373] =1,[30111374] =1,[30111375] =1,[30111376] =1,[30111377] =1,[30111378] =1,[30111379] =1,[30111380] =1,[30111381] =1,[30111382] =1,[30111383] =1,[30111384] =1,[30111385] =1,[30111386] =1,[30111387] =1,[30111388] =1,[30111389] =1,[30111390] =1,[30111391] =2,[30111392] =2,[30111393] =2,[30111394] =2,[30111395] =2,[30111396] =2,[30111397] =2,[30111398] =2,[30111399] =2,[30111400] =2,[30111401] =2,[30111402] =2,[30111403] =2,[30111404] =2,[30111405] =2,[30111406] =2,[30111407] =2,[30111408] =2,[30111409] =2,[30111410] =2,[30111411] =2,[30111412] =2,[30111413] =2,[30111414] =2,[30111415] =2,[30111416] =2,[30111417] =2,[30111418] =2,[30111419] =2,[30111420] =2,[30111421] =2,[30111422] =2,[30111423] =2,[30111424] =2,[30111425] =2,[30111426] =2,[30111427] =2,[30111428] =2,[30111429] =2,[30111430] =2,[30111431] =15,[30111432] =15,[30111433] =15,[30111434] =15,[30111435] =15,[30111436] =15,[30111437] =15,[30111438] =15,[30111439] =15,[30111440] =15,[30111441] =15,[30111442] =15,[30111443] =15,[30111444] =15,[30111445] =15,[30111446] =15,[30111447] =15,[30111448] =15,[30111449] =15,[30111450] =15,[30111451] =15,[30111452] =15,[30111453] =15,[30111454] =15,[30111455] =15,[30111456] =15,[30111457] =15,[30111458] =15,[30111459] =15,[30111460] =15,[30111461] =15,[30111462] =15,[30111463] =15,[30111464] =15,[30111465] =15,[30111466] =15,[30111467] =15,[30111468] =15,[30111469] =15,[30111470] =15,[30111471] =15,[30111472] =15,[30111473] =15,[30111474] =15,[30111475] =15,[30111476] =15,[30111477] =15,[30111478] =15,[30111479] =15,[30111480] =15,[30111481] =15,[30111482] =15,[30111483] =15,[30111484] =15,[30111485] =15,[30111486] =15,[30111487] =15,[30111488] =15,[30111489] =15,[30111490] =15,[30111491] =15,[30111492] =15,[30111493] =15,[30111494] =15,[30111495] =15,[30111496] =15,[30111497] =15,[30111498] =15,[30111499] =15,[30111500] =15,[30111501] =15,[30111502] =15,[30111503] =15,[30111504] =15,[30111505] =15,[30111506] =15,[30111507] =15,[30111508] =15,[30111509] =15,[30111510] =15,[30111511] =15,[30111512] =15,[30111513] =15,[30111514] =15,[30111515] =15,[30111516] =15,[30111517] =15,[30111518] =15,[30111519] =15,[30111520] =15,[30111521] =15,[30111522] =15,[30111523] =15,[30111524] =15,[30111525] =15,[30111526] =15,[30111527] =15,[30111528] =15,[30111529] =15,[30111530] =15,[30111531] =15,[30111532] =15,[30111533] =15,[30111534] =15,[30111535] =15,[30111536] =15,[30111537] =15,[30111538] =15,[30111539] =15,[30111540] =15,[30111541] =15,[30111542] =15,[30111543] =15,[30111544] =15,[30111545] =15,[30111546] =15,[30111547] =15,[30111548] =15,[30111549] =15,[30111550] =15,[30111551] =15,[30111552] =15,[30111553] =15,[30111554] =15,[30111555] =15,[30111556] =15,[30111557] =15,[30111558] =15,[30111559] =15,[30111560] =15,[30111561] =15,[30111562] =15,[30111563] =15,[30111564] =15,[30111565] =15,[30111566] =15,[30111567] =15,[30111568] =15,[30111569] =15,[30111570] =15,[30111571] =15,[30111572] =15,[30111573] =15,[30111574] =15,[30111575] =15,[30111576] =15,[30111577] =15,[30111578] =15,[30111579] =15,[30111580] =15,[30111581] =15,[30111582] =15,[30111583] =15,[30111584] =15,[30111585] =15,[30111586] =15,[30111587] =15,[30111588] =15,[30111589] =15,[30111590] =15,[30111591] =15,[30111592] =15,[30111593] =15,[30111594] =15,[30111595] =15,[30111596] =15,[30111597] =15,[30111598] =15,[30111599] =15,[30111600] =15,}
local g_DW_Dark = {[30110421]="A01",[30110422]="A02",[30110423]="A03",[30110424]="A04",[30110425]="A05",[30110426]="A06",[30110427]="A07",[30110428]="A08",[30110429]="A09",[30110430]="A10",[30110431]="B01",[30110432]="B02",[30110433]="B03",[30110434]="B04",[30110435]="B05",[30110436]="B06",[30110437]="B07",[30110438]="B08",[30110439]="B09",[30110440]="B10",[30110441]="D01",[30110442]="D02",[30110443]="D03",[30110444]="D04",[30110445]="D05",[30110446]="D06",[30110447]="D07",[30110448]="D08",[30110449]="D09",[30110450]="D10",[30110451]="E01",[30110452]="E02",[30110453]="E03",[30110454]="E04",[30110455]="E05",[30110456]="E06",[30110457]="E07",[30110458]="E08",[30110459]="E09",[30110460]="E10",[30110461]="C01",[30110462]="C02",[30110463]="C03",[30110464]="C04",[30110465]="C05",[30110466]="C06",[30110467]="C07",[30110468]="C08",[30110469]="C09",[30110470]="C10",[30110651]="F01",[30110652]="F02",[30110653]="F03",[30110654]="F04",[30110655]="F05",[30110656]="F06",[30110657]="F07",[30110658]="F08",[30110659]="F09",[30110660]="F10",[30110661]="G01",[30110662]="G02",[30110663]="G03",[30110664]="G04",[30110665]="G05",[30110666]="G06",[30110667]="G07",[30110668]="G08",[30110669]="G09",[30110670]="G10",[30110671]="H01",[30110672]="H02",[30110673]="H03",[30110674]="H04",[30110675]="H05",[30110676]="H06",[30110677]="H07",[30110678]="H08",[30110679]="H09",[30110680]="H10",[30110681]="I01",[30110682]="I02",[30110683]="I03",[30110684]="I04",[30110685]="I05",[30110686]="I06",[30110687]="I07",[30110688]="I08",[30110689]="I09",[30110690]="I10",[30110691]="N01",[30110692]="N02",[30110693]="N03",[30110694]="N04",[30110695]="N05",[30110696]="N06",[30110697]="N07",[30110698]="N08",[30110699]="N09",[30110700]="N10",[30110701]="O01",[30110702]="O02",[30110703]="O03",[30110704]="O04",[30110705]="O05",[30110706]="O06",[30110707]="O07",[30110708]="O08",[30110709]="O09",[30110710]="O10",[30110711]="P01",[30110712]="P02",[30110713]="P03",[30110714]="P04",[30110715]="P05",[30110716]="P06",[30110717]="P07",[30110718]="P08",[30110719]="P09",[30110720]="P10",[30110721]="Q01",[30110722]="Q02",[30110723]="Q03",[30110724]="Q04",[30110725]="Q05",[30110726]="Q06",[30110727]="Q07",[30110728]="Q08",[30110729]="Q09",[30110730]="Q10",[30110811]="J01",[30110812]="J02",[30110813]="J03",[30110814]="J04",[30110815]="J05",[30110816]="J06",[30110817]="J07",[30110818]="J08",[30110819]="J09",[30110820]="J10",[30110821]="K01",[30110822]="K02",[30110823]="K03",[30110824]="K04",[30110825]="K05",[30110826]="K06",[30110827]="K07",[30110828]="K08",[30110829]="K09",[30110830]="K10",[30110831]="L01",[30110832]="L02",[30110833]="L03",[30110834]="L04",[30110835]="L05",[30110836]="L06",[30110837]="L07",[30110838]="L08",[30110839]="L09",[30110840]="L10",[30110841]="M01",[30110842]="M02",[30110843]="M03",[30110844]="M04",[30110845]="M05",[30110846]="M06",[30110847]="M07",[30110848]="M08",[30110849]="M09",[30110850]="M10",}
local g_DWInfo_Dark = {30110421,30110422,30110423,30110424,30110425,30110426,30110427,30110428,30110429,30110430,30110431,30110432,30110433,30110434,30110435,30110436,30110437,30110438,30110439,30110440,30110441,30110442,30110443,30110444,30110445,30110446,30110447,30110448,30110449,30110450,30110451,30110452,30110453,30110454,30110455,30110456,30110457,30110458,30110459,30110460,30110461,30110462,30110463,30110464,30110465,30110466,30110467,30110468,30110469,30110470,30110651,30110652,30110653,30110654,30110655,30110656,30110657,30110658,30110659,30110660,30110661,30110662,30110663,30110664,30110665,30110666,30110667,30110668,30110669,30110670,30110671,30110672,30110673,30110674,30110675,30110676,30110677,30110678,30110679,30110680,30110681,30110682,30110683,30110684,30110685,30110686,30110687,30110688,30110689,30110690,30110691,30110692,30110693,30110694,30110695,30110696,30110697,30110698,30110699,30110700,30110701,30110702,30110703,30110704,30110705,30110706,30110707,30110708,30110709,30110710,30110711,30110712,30110713,30110714,30110715,30110716,30110717,30110718,30110719,30110720,30110721,30110722,30110723,30110724,30110725,30110726,30110727,30110728,30110729,30110730,30110811,30110812,30110813,30110814,30110815,30110816,30110817,30110818,30110819,30110820,30110821,30110822,30110823,30110824,30110825,30110826,30110827,30110828,30110829,30110830,30110831,30110832,30110833,30110834,30110835,30110836,30110837,30110838,30110839,30110840,30110841,30110842,30110843,30110844,30110845,30110846,30110847,30110848,30110849,30110850,}
--=========================================================
-- 注册窗口关心的所有事件
--=========================================================
function DWHecheng_PreLoad()
	this:RegisterEvent("UI_COMMAND")
	this:RegisterEvent("UPDATE_DWHECHENG")
	this:RegisterEvent("OBJECT_CARED_EVENT")
	this:RegisterEvent("PACKAGE_ITEM_CHANGED")
	this:RegisterEvent("RESUME_ENCHASE_GEM")
	this:RegisterEvent("UNIT_MONEY")
	this:RegisterEvent("MONEYJZ_CHANGE")

	this:RegisterEvent("CONFIRM_DWHECHENG")
	
	this:RegisterEvent("ADJEST_UI_POS")
	this:RegisterEvent("VIEW_RESOLUTION_CHANGED")
end

--=========================================================
-- 载入初始化
--=========================================================
function DWHecheng_OnLoad()
	g_DWHECHENG_Item = -1
	g_DWHECHENG_DemandMoney = 50000
	g_DWHecheng_Confirmed = 0
	DWHecheng_OK:Enable()
	
	g_DWHecheng_Frame_UnifiedPosition=DWHecheng_Frame:GetProperty("UnifiedPosition");
end

--=========================================================
-- 事件处理
--=========================================================
function DWHecheng_OnEvent(event)
	if (event == "UI_COMMAND" and tonumber(arg0) == 1000156) then
		local xx = Get_XParam_INT(0)
		g_CaredNpc = DataPool:GetNPCIDByServerID(xx)
		if g_CaredNpc == -1 then
			PushDebugMessage("server传过来的数据有问题。")
			return
		end
		BeginCareObject_DWHecheng()
		DWHecheng_Clear()
		DWHecheng_UpdateBasic()
		this:Show()
		PushEvent("OPEN_WINDOW","Packet")
	elseif (event == "UI_COMMAND" and tonumber(arg0) == 201401111 and this:IsVisible()) then
		if arg1 ~= nil then
			DWHecheng_Update(arg1)
		end
		DWHecheng_UpdateBasic()
	elseif (event == "UI_COMMAND" and tonumber(arg0) == 201401115 and this:IsVisible()) then
		DWHecheng_Clear()
		DWHecheng_Close()
	elseif (event == "OBJECT_CARED_EVENT" and this:IsVisible()) then
		if (tonumber(arg0) ~= g_CaredNpc) then
			return
		end
		if ((arg1 == "distance" and tonumber(arg2) > MAX_OBJ_DISTANCE) or arg1=="destroy") then
			DWHecheng_Close()
		end
	elseif (event == "PACKAGE_ITEM_CHANGED" and this:IsVisible()) then
		if (arg0~= nil and -1 == tonumber(arg0)) then
			return
		end
		if (g_DWHECHENG_Item == tonumber(arg0)) then
			DWHecheng_Resume_Equip()
		end
	elseif (event == "UPDATE_DWHECHENG") then
		if arg0 ~= nil then
			DWHecheng_Update(arg0)
		end
		DWHecheng_UpdateBasic()
	elseif (event == "UNIT_MONEY" or event =="MONEYJZ_CHANGE") then
		DWHecheng_UpdateBasic()
	elseif (event == "RESUME_ENCHASE_GEM" and this:IsVisible()) then
		if arg0 ~= nil and tonumber(arg0) == (g_DWHECHENG_GRID_SKIP + 1) then
			DWHecheng_Resume_Equip()
			DWHecheng_UpdateBasic()
		end
	elseif (event == "CONFIRM_DWHECHENG") then
		g_DWHecheng_Confirmed = 1
	
	elseif (event == "ADJEST_UI_POS" ) then
		DWHecheng_Frame_On_ResetPos()
		
	elseif (event == "VIEW_RESOLUTION_CHANGED") then
		DWHecheng_Frame_On_ResetPos()
	end
end

--=========================================================
-- 更新基本显示信息
--=========================================================
function DWHecheng_UpdateBasic()
	DWHecheng_SelfMoney:SetProperty("MoneyNumber", Player:GetData("MONEY") + Player:GetData("MONEY_JZ") )
	-- DWHecheng_SelfJiaozi:SetProperty("MoneyNumber", Player:GetData("MONEY_JZ"))

	-- 计算所需金钱
	if g_DWHECHENG_Item == -1 then
		g_DWHECHENG_DemandMoney = 0
		DWHecheng_Cailiao_des:SetText("#{CZDYH_161128_15}")
	else
		local ret1, ret2 = GetDiaowenHechengMat(g_DWHECHENG_Item)
		if ret1 < 0 or ret2 < 0 then
			DWHecheng_Cailiao_des:SetText("#{CZDYH_161128_15}")
		end
		if ret2 == 0 then
			DWHecheng_Cailiao_des:SetText(string.format("#cfff263%s个丹青",ret1))
		else
			DWHecheng_Cailiao_des:SetText(string.format("#cfff263%s个丹青和%s个黄纸",ret1, ret2))
		end
		g_DWHECHENG_DemandMoney = 50000
	end
	DWHecheng_DemandMoney:SetProperty("MoneyNumber", tostring(g_DWHECHENG_DemandMoney))

	DWHecheng_OK:Enable()
end

function GetDiaowenHechengMat(nPos)
	local nDWTuYangCost = {[30120001] = {10,-1},[30120002] = {10,-1},[30120003] = {20,20},[30120004] = {20,20},[30120005] = {10,-1},[30120006] = {10,-1},[30120007] = {10,-1},[30120008] = {20,20},[30120009] = {10,-1},[30120010] = {20,20},[30120011] = {10,-1},[30120012] = {10,-1},[30120013] = {10,-1},[30120014] = {20,20},[30120015] = {20,20},[30120016] = {20,20},[30120017] = {20,20},[30120018] = {60,60},[30120019] = {60,60},[30120020] = {60,60},[30120021] = {60,60},[30120022] = {10,-1},[30120023] = {20,20},[30120024] = {20,20},[30120025] = {20,20},[30120026] = {20,20},[30120027] = {20,20},[30120028] = {20,20},[30120029] = {10,-1},[30120030] = {20,20},[30120031] = {10,-1},[30120032] = {20,20},[30120033] = {10,-1},[30120034] = {10,-1},[30120035] = {20,20},[30120036] = {20,20},[30120037] = {20,20},[30120038] = {20,20},[30120039] = {10,-1},[30120040] = {20,20},[30120041] = {20,20},[30120042] = {20,20},[30120094] = {20,20},[30120043] = {10,-1},[30120044] = {10,-1},[30120045] = {20,20},[30120046] = {10,-1},[30120047] = {20,20},[30120048] = {10,-1},[30120049] = {10,-1},[30120050] = {20,20},[30120051] = {10,-1},[30120052] = {20,20},[30120053] = {20,20},[30120054] = {20,20},[30120055] = {20,20},[30120056] = {20,20},[30120057] = {10,-1},[30120058] = {10,-1},[30120059] = {20,20},[30120060] = {10,-1},[30120061] = {20,20},[30120062] = {20,20},[30120063] = {20,20},[30120064] = {20,20},[30120065] = {20,20},[30120066] = {20,20},[30120067] = {20,20},[30120068] = {20,20},[30120069] = {20,20},[30120070] = {20,20},[30120071] = {20,20},[30120072] = {20,20},[30120073] = {20,20},[30120074] = {20,20},[30120075] = {20,20},[30120076] = {20,20},[30120077] = {20,20},[30120078] = {20,20},[30120079] = {20,20},[30120080] = {20,20},[30120081] = {20,20},[30120082] = {60,60},[30120083] = {60,60},[30120084] = {60,60},[30120085] = {60,60},[30120086] = {60,60},[30120087] = {60,60},[30120088] = {60,60},[30120089] = {60,60},[30120090] = {60,60},[30120091] = {60,60},[30120092] = {60,60},[30120093] = {60,60},[30120095] = {20,20},[30120096] = {10,-1},[30120097] = {10,-1},[30120098] = {20,20},[30120099] = {10,-1},[30120100] = {20,20},[30120101] = {20,20},[30120102] = {20,20},[30120103] = {20,20},[30120104] = {20,20},[30120105] = {20,20},[30120106] = {20,20},[30120107] = {20,20},[30120108] = {20,20},[30120109] = {60,60},[30120110] = {60,60},[30120111] = {60,60},[30120112] = {60,60},[30120113] = {20,20},[30120114] = {20,20},[30120115] = {20,20},[30120116] = {20,20},[30120117] = {20,20},[30120118] = {20,20},[30120119] = {20,20},[30120120] = {20,20},[30120121] = {20,20},[30120122] = {20,20},[30120123] = {20,20},[30120124] = {20,20},[30120125] = {20,20},[30120126] = {20,20},[30120127] = {20,20},[30120128] = {20,20},[30120129] = {20,20},[30120130] = {20,20},[30120131] = {20,20},[30120132] = {20,20},[30120133] = {60,60},[30120134] = {60,60},[30120135] = {60,60},[30120136] = {60,60},[30120137] = {60,60},[30120138] = {60,60},[30120139] = {60,60},[30120140] = {60,60},[30120141] = {20,20},[30120142] = {20,20},[30120143] = {20,20},[30120144] = {20,20},[30120145] = {10,-1},[30120146] = {10,-1},[30120147] = {20,20},[30120148] = {10,-1},[30120149] = {20,20},[30120150] = {20,20},[30120151] = {20,20},[30120152] = {20,20},[30120153] = {20,20},[30120154] = {20,20},[30120155] = {20,20},[30120156] = {20,20},[30120157] = {20,20},[30120158] = {60,60},[30120159] = {60,60},[30120160] = {60,60},[30120161] = {60,60}}
	local nItemNum = PlayerPackage:GetItemTableIndex(nPos)
	local ret1,ret2 = -1,-1
	if nDWTuYangCost[nItemNum] ~= nil then
		ret1 = nDWTuYangCost[nItemNum][1]
		ret2 = nDWTuYangCost[nItemNum][2]
	end
	if ret2 == -1 then
		ret2 = 0
	end
	return ret1,ret2--丹青、黄纸
end
function IsDiaowenPic(nPos)
	local ret1, ret2 = GetDiaowenHechengMat(nPos)
	if ret1 == -1 and ret2 == -1 then
		return -1
	end
	return 0
end

--=========================================================
-- 重置界面
--=========================================================
function DWHecheng_Clear()
	if g_DWHECHENG_Item ~= -1 then
		DWHecheng_Object:SetActionItem(-1)
		LifeAbility:Lock_Packet_Item(g_DWHECHENG_Item, 0)
		g_DWHECHENG_Item = -1
	end

	g_DWHECHENG_DemandMoney = 50000
	g_DWHecheng_Confirmed = 0
	DWHecheng_UpdateBasic()
end

--=========================================================
-- 更新界面
--=========================================================
function DWHecheng_Update(itemIndex)
	local index = tonumber(itemIndex)
	local theAction = EnumAction(index, "packageitem")

	if theAction:GetID() ~= 0 then
		-- 判断是否为安全时间
		if (tonumber(DataPool:GetLeftProtectTime()) > 0) then
			PushDebugMessage("#{JJTZ_090826_26}")
			return
		end

		-- 判断物品是否为雕纹图样
		if IsDiaowenPic(index) == -1 then
			PushDebugMessage("#{ZBDW_091105_2}")
			return
		end

		-- 判断物品是否加锁(在这个逻辑之前程序已经判断了)
		if PlayerPackage:IsLock(index) == 1 then
			PushDebugMessage("#{ZBDW_091105_3}")
			return
		end
		
		-- 如果空格内已经有图样了, 替换之
		if g_DWHECHENG_Item ~= -1 then
			LifeAbility:Lock_Packet_Item(g_DWHECHENG_Item, 0)
		end
		DWHecheng_Object:SetActionItem(theAction:GetID())
		LifeAbility:Lock_Packet_Item(index, 1)
		g_DWHECHENG_Item = index

	else
		DWHecheng_Clear()
	end
end

--=========================================================
-- 取出窗口内放入的物品
--=========================================================
function DWHecheng_Resume_Equip()
	if this:IsVisible() then
		DWHecheng_Clear()
	end
end

--=========================================================
-- 判断是否所有物品都已放好
-- 只在点击 OK 按钮的时候调用这个函数
--=========================================================
function DWHecheng_Check_AllItem()
	DWHecheng_UpdateBasic()

	if g_DWHECHENG_Item == -1 then
		return 1
	end

	local selfMoney = Player:GetData("MONEY") + Player:GetData("MONEY_JZ")
	if selfMoney < g_DWHECHENG_DemandMoney then
		return 44
	end

	return 0
end


local EB_FREE_BIND = 0;				-- 无绑定限制
local EB_BINDED = 1;				-- 已经绑定
local EB_GETUP_BIND =2			-- 拾取绑定
local EB_EQUIP_BIND =3			-- 装备绑定
--=========================================================
-- 确定执行功能
--=========================================================
function DWHecheng_OK_Clicked()
	local ret = DWHecheng_Check_AllItem()
	if ret == 1 then
		PushDebugMessage("#{ZBDW_091105_2}")
	elseif ret == 44 then
		PushDebugMessage("#{GMGameInterface_Script_PlayerMySelf_Info_Money_Not_Enough}")
	end	
	if ret == 0 then
		-- 检查绑定情况
		local picBindState = PlayerPackage:GetItemBindStatusByIndex(g_DWHECHENG_Item)
		local isNeedConfirm = 0
		Clear_XSCRIPT()
			Set_XSCRIPT_Function_Name(g_DWHECHENG_RSCript_Name)
			Set_XSCRIPT_ScriptID(g_DWHECHENG_RScript_ID)
			Set_XSCRIPT_Parameter(0, g_DWHECHENG_Action_Type)
			Set_XSCRIPT_Parameter(1, g_DWHECHENG_Item)
			Set_XSCRIPT_ParamCount(2)
		Send_XSCRIPT()
	end
end

--=========================================================
-- 关闭界面
--=========================================================
function DWHecheng_Close()
	this:Hide()
	return
end

--=========================================================
-- 界面隐藏
--=========================================================
function DWHecheng_OnHiden()
	StopCareObject_DWHecheng()
	DWHecheng_Clear()
	return
end

--=========================================================
-- 开始关心NPC，
-- 在开始关心之前需要先确定这个界面是不是已经有“关心”的NPC，
-- 如果有的话，先取消已经有的“关心”
--=========================================================
function BeginCareObject_DWHecheng()
	this:CareObject(g_CaredNpc, 1, "DWHecheng")
	return
end

--=========================================================
-- 停止对某NPC的关心
--=========================================================
function StopCareObject_DWHecheng()
	this:CareObject(g_CaredNpc, 0, "DWHecheng")
	g_CaredNpc = -1
	return
end

--=========================================================
-- 玩家金钱变化
--=========================================================
function DWHecheng_UserMoneyChanged()
	local selfMoney = Player:GetData("MONEY") + Player:GetData("MONEY_JZ")
	-- 判断金钱够不够
	if selfMoney < g_DWHECHENG_DemandMoney then
		return -1
	end
	return 1
end

function DWHecheng_Frame_On_ResetPos()
	DWHecheng_Frame:SetProperty("UnifiedPosition", g_DWHecheng_Frame_UnifiedPosition);
end
function Lua_GetEquipDiaowenID(nPos,nData)
	--此函数一定要确认有雕纹再用，否则 = = 哈哈
	local nDWID_1,nDWID_2 = 0,0
	local pos1,pos2,nType_1,nData_1,nType_2,nData_2 = string.find(nData,"&DW(%w)(%w%w)(%w)(%w%w)")
    if pos1 == nil or pos2 == nil then
        return nDWID_1,nDWID_2
    end
	local nEquipPoint = LifeAbility:Get_Equip_Point(nPos)
	local nTable = {}
	if nEquipPoint == 6 or nEquipPoint == 11 or nEquipPoint == 12 or nEquipPoint == 13 then
		--饰品类
		nTable = {["A01"] = 30110001,["A02"] = 30110002,["A03"] = 30110003,["A04"] = 30110004,["A05"] = 30110005,["A06"] = 30110006,["A07"] = 30110007,["A08"] = 30110008,["A09"] = 30110009,["A10"] = 30110010,["B01"] = 30110011,["B02"] = 30110012,["B03"] = 30110013,["B04"] = 30110014,["B05"] = 30110015,["B06"] = 30110016,["B07"] = 30110017,["B08"] = 30110018,["B09"] = 30110019,["B10"] = 30110020,["C01"] = 30110021,["C02"] = 30110022,["C03"] = 30110023,["C04"] = 30110024,["C05"] = 30110025,["C06"] = 30110026,["C07"] = 30110027,["C08"] = 30110028,["C09"] = 30110029,["C10"] = 30110030,["D01"] = 30110931,["D02"] = 30110932,["D03"] = 30110933,["D04"] = 30110934,["D05"] = 30110935,["D06"] = 30110936,["D07"] = 30110937,["D08"] = 30110938,["D09"] = 30110939,["D10"] = 30110940,["J01"] = 30111351,["J02"] = 30111352,["J03"] = 30111353,["J04"] = 30111354,["J05"] = 30111355,["J06"] = 30111356,["J07"] = 30111357,["J08"] = 30111358,["J09"] = 30111359,["J10"] = 30111360,["K01"] = 30111361,["K02"] = 30111362,["K03"] = 30111363,["K04"] = 30111364,["K05"] = 30111365,["K06"] = 30111366,["K07"] = 30111367,["K08"] = 30111368,["K09"] = 30111369,["K10"] = 30111370,["L01"] = 30111371,["L02"] = 30111372,["L03"] = 30111373,["L04"] = 30111374,["L05"] = 30111375,["L06"] = 30111376,["L07"] = 30111377,["L08"] = 30111378,["L09"] = 30111379,["L10"] = 30111380,["M01"] = 30111381,["M02"] = 30111382,["M03"] = 30111383,["M04"] = 30111384,["M05"] = 30111385,["M06"] = 30111386,["M07"] = 30111387,["M08"] = 30111388,["M09"] = 30111389,["M10"] = 30111390,}
	end
	if nEquipPoint == 4 then
		--鞋子
		nTable = {["D01"] = 30110071,["D02"] = 30110072,["D03"] = 30110073,["D04"] = 30110074,["D05"] = 30110075,["D06"] = 30110076,["D07"] = 30110077,["D08"] = 30110078,["D09"] = 30110079,["D10"] = 30110080,["E01"] = 30110081,["E02"] = 30110082,["E03"] = 30110083,["E04"] = 30110084,["E05"] = 30110085,["E06"] = 30110086,["E07"] = 30110087,["E08"] = 30110088,["E09"] = 30110089,["E10"] = 30110090,["N01"] = 30111231,["N02"] = 30111232,["N03"] = 30111233,["N04"] = 30111234,["N05"] = 30111235,["N06"] = 30111236,["N07"] = 30111237,["N08"] = 30111238,["N09"] = 30111239,["N10"] = 30111240,["O01"] = 30111241,["O02"] = 30111242,["O03"] = 30111243,["O04"] = 30111244,["O05"] = 30111245,["O06"] = 30111246,["O07"] = 30111247,["O08"] = 30111248,["O09"] = 30111249,["O10"] = 30111250,["P01"] = 30111251,["P02"] = 30111252,["P03"] = 30111253,["P04"] = 30111254,["P05"] = 30111255,["P06"] = 30111256,["P07"] = 30111257,["P08"] = 30111258,["P09"] = 30111259,["P10"] = 30111260,["Q01"] = 30111261,["Q02"] = 30111262,["Q03"] = 30111263,["Q04"] = 30111264,["Q05"] = 30111265,["Q06"] = 30111266,["Q07"] = 30111267,["Q08"] = 30111268,["Q09"] = 30111269,["Q10"] = 30111270,}
	end
	if nEquipPoint == 5 then
		--腰带
		nTable = {["D01"] = 30110091,["D02"] = 30110092,["D03"] = 30110093,["D04"] = 30110094,["D05"] = 30110095,["D06"] = 30110096,["D07"] = 30110097,["D08"] = 30110098,["D09"] = 30110099,["D10"] = 30110100,["E01"] = 30110101,["E02"] = 30110102,["E03"] = 30110103,["E04"] = 30110104,["E05"] = 30110105,["E06"] = 30110106,["E07"] = 30110107,["E08"] = 30110108,["E09"] = 30110109,["E10"] = 30110110,["N01"] = 30111271,["N02"] = 30111272,["N03"] = 30111273,["N04"] = 30111274,["N05"] = 30111275,["N06"] = 30111276,["N07"] = 30111277,["N08"] = 30111278,["N09"] = 30111279,["N10"] = 30111280,["O01"] = 30111281,["O02"] = 30111282,["O03"] = 30111283,["O04"] = 30111284,["O05"] = 30111285,["O06"] = 30111286,["O07"] = 30111287,["O08"] = 30111288,["O09"] = 30111289,["O10"] = 30111290,["P01"] = 30111291,["P02"] = 30111292,["P03"] = 30111293,["P04"] = 30111294,["P05"] = 30111295,["P06"] = 30111296,["P07"] = 30111297,["P08"] = 30111298,["P09"] = 30111299,["P10"] = 30111300,["Q01"] = 30111301,["Q02"] = 30111302,["Q03"] = 30111303,["Q04"] = 30111304,["Q05"] = 30111305,["Q06"] = 30111306,["Q07"] = 30111307,["Q08"] = 30111308,["Q09"] = 30111309,["Q10"] = 30111310,}
	end
	if nEquipPoint == 0 then
		--武器
		nTable = {["A01"] = 30110111,["A02"] = 30110112,["A03"] = 30110113,["A04"] = 30110114,["A05"] = 30110115,["A06"] = 30110116,["A07"] = 30110117,["A08"] = 30110118,["A09"] = 30110119,["A10"] = 30110120,["B01"] = 30110121,["B02"] = 30110122,["B03"] = 30110123,["B04"] = 30110124,["B05"] = 30110125,["B06"] = 30110126,["B07"] = 30110127,["B08"] = 30110128,["B09"] = 30110129,["B10"] = 30110130,["F01"] = 30110131,["F02"] = 30110132,["F03"] = 30110133,["F04"] = 30110134,["F05"] = 30110135,["F06"] = 30110136,["F07"] = 30110137,["F08"] = 30110138,["F09"] = 30110139,["F10"] = 30110140,["G01"] = 30110141,["G02"] = 30110142,["G03"] = 30110143,["G04"] = 30110144,["G05"] = 30110145,["G06"] = 30110146,["G07"] = 30110147,["G08"] = 30110148,["G09"] = 30110149,["G10"] = 30110150,["H01"] = 30110151,["H02"] = 30110152,["H03"] = 30110153,["H04"] = 30110154,["H05"] = 30110155,["H06"] = 30110156,["H07"] = 30110157,["H08"] = 30110158,["H09"] = 30110159,["H10"] = 30110160,["I01"] = 30110161,["I02"] = 30110162,["I03"] = 30110163,["I04"] = 30110164,["I05"] = 30110165,["I06"] = 30110166,["I07"] = 30110167,["I08"] = 30110168,["I09"] = 30110169,["I10"] = 30110170,["J01"] = 30110171,["J02"] = 30110172,["J03"] = 30110173,["J04"] = 30110174,["J05"] = 30110175,["J06"] = 30110176,["J07"] = 30110177,["J08"] = 30110178,["J09"] = 30110179,["J10"] = 30110180,["K01"] = 30110181,["K02"] = 30110182,["K03"] = 30110183,["K04"] = 30110184,["K05"] = 30110185,["K06"] = 30110186,["K07"] = 30110187,["K08"] = 30110188,["K09"] = 30110189,["K10"] = 30110190,["L01"] = 30110191,["L02"] = 30110192,["L03"] = 30110193,["L04"] = 30110194,["L05"] = 30110195,["L06"] = 30110196,["L07"] = 30110197,["L08"] = 30110198,["L09"] = 30110199,["L10"] = 30110200,["M01"] = 30110201,["M02"] = 30110202,["M03"] = 30110203,["M04"] = 30110204,["M05"] = 30110205,["M06"] = 30110206,["M07"] = 30110207,["M08"] = 30110208,["M09"] = 30110209,["M10"] = 30110210,}
	end
	if nEquipPoint == 1 then
		--帽子
		nTable = {["E01"] = 30110211,["E02"] = 30110212,["E03"] = 30110213,["E04"] = 30110214,["E05"] = 30110215,["E06"] = 30110216,["E07"] = 30110217,["E08"] = 30110218,["E09"] = 30110219,["E10"] = 30110220,["C01"] = 30110221,["C02"] = 30110222,["C03"] = 30110223,["C04"] = 30110224,["C05"] = 30110225,["C06"] = 30110226,["C07"] = 30110227,["C08"] = 30110228,["C09"] = 30110229,["C10"] = 30110230,["N01"] = 30110231,["N02"] = 30110232,["N03"] = 30110233,["N04"] = 30110234,["N05"] = 30110235,["N06"] = 30110236,["N07"] = 30110237,["N08"] = 30110238,["N09"] = 30110239,["N10"] = 30110240,["O01"] = 30110241,["O02"] = 30110242,["O03"] = 30110243,["O04"] = 30110244,["O05"] = 30110245,["O06"] = 30110246,["O07"] = 30110247,["O08"] = 30110248,["O09"] = 30110249,["O10"] = 30110250,["P01"] = 30110251,["P02"] = 30110252,["P03"] = 30110253,["P04"] = 30110254,["P05"] = 30110255,["P06"] = 30110256,["P07"] = 30110257,["P08"] = 30110258,["P09"] = 30110259,["P10"] = 30110260,["Q01"] = 30110261,["Q02"] = 30110262,["Q03"] = 30110263,["Q04"] = 30110264,["Q05"] = 30110265,["Q06"] = 30110266,["Q07"] = 30110267,["Q08"] = 30110268,["Q09"] = 30110269,["Q10"] = 30110270,}
	end
	if nEquipPoint == 16 then
		--衣服
		nTable = {["D01"] = 30110271,["D02"] = 30110272,["D03"] = 30110273,["D04"] = 30110274,["D05"] = 30110275,["D06"] = 30110276,["D07"] = 30110277,["D08"] = 30110278,["D09"] = 30110279,["D10"] = 30110280,["E01"] = 30110281,["E02"] = 30110282,["E03"] = 30110283,["E04"] = 30110284,["E05"] = 30110285,["E06"] = 30110286,["E07"] = 30110287,["E08"] = 30110288,["E09"] = 30110289,["E10"] = 30110290,["C01"] = 30110291,["C02"] = 30110292,["C03"] = 30110293,["C04"] = 30110294,["C05"] = 30110295,["C06"] = 30110296,["C07"] = 30110297,["C08"] = 30110298,["C09"] = 30110299,["C10"] = 30110300,["N01"] = 30111111,["N02"] = 30111112,["N03"] = 30111113,["N04"] = 30111114,["N05"] = 30111115,["N06"] = 30111116,["N07"] = 30111117,["N08"] = 30111118,["N09"] = 30111119,["N10"] = 30111120,["O01"] = 30111121,["O02"] = 30111122,["O03"] = 30111123,["O04"] = 30111124,["O05"] = 30111125,["O06"] = 30111126,["O07"] = 30111127,["O08"] = 30111128,["O09"] = 30111129,["O10"] = 30111130,["P01"] = 30111131,["P02"] = 30111132,["P03"] = 30111133,["P04"] = 30111134,["P05"] = 30111135,["P06"] = 30111136,["P07"] = 30111137,["P08"] = 30111138,["P09"] = 30111139,["P10"] = 30111140,["Q01"] = 30111141,["Q02"] = 30111142,["Q03"] = 30111143,["Q04"] = 30111144,["Q05"] = 30111145,["Q06"] = 30111146,["Q07"] = 30111147,["Q08"] = 30111148,["Q09"] = 30111149,["Q10"] = 30111150,}
	end
	if nEquipPoint == 3 then
		--手套
		nTable = {["E01"] = 30110301,["E02"] = 30110302,["E03"] = 30110303,["E04"] = 30110304,["E05"] = 30110305,["E06"] = 30110306,["E07"] = 30110307,["E08"] = 30110308,["E09"] = 30110309,["E10"] = 30110310,["C01"] = 30110311,["C02"] = 30110312,["C03"] = 30110313,["C04"] = 30110314,["C05"] = 30110315,["C06"] = 30110316,["C07"] = 30110317,["C08"] = 30110318,["C09"] = 30110319,["C10"] = 30110320,["D01"] = 30110401,["D02"] = 30110402,["D03"] = 30110403,["D04"] = 30110404,["D05"] = 30110405,["D06"] = 30110406,["D07"] = 30110407,["D08"] = 30110408,["D09"] = 30110409,["D10"] = 30110410,["N01"] = 30111151,["N02"] = 30111152,["N03"] = 30111153,["N04"] = 30111154,["N05"] = 30111155,["N06"] = 30111156,["N07"] = 30111157,["N08"] = 30111158,["N09"] = 30111159,["N10"] = 30111160,["O01"] = 30111161,["O02"] = 30111162,["O03"] = 30111163,["O04"] = 30111164,["O05"] = 30111165,["O06"] = 30111166,["O07"] = 30111167,["O08"] = 30111168,["O09"] = 30111169,["O10"] = 30111170,["P01"] = 30111171,["P02"] = 30111172,["P03"] = 30111173,["P04"] = 30111174,["P05"] = 30111175,["P06"] = 30111176,["P07"] = 30111177,["P08"] = 30111178,["P09"] = 30111179,["P10"] = 30111180,["Q01"] = 30111181,["Q02"] = 30111182,["Q03"] = 30111183,["Q04"] = 30111184,["Q05"] = 30111185,["Q06"] = 30111186,["Q07"] = 30111187,["Q08"] = 30111188,["Q09"] = 30111189,["Q10"] = 30111190,}
	end
	if nEquipPoint == 15 then
		--护肩
		nTable = {["E01"] = 30110381,["E02"] = 30110382,["E03"] = 30110383,["E04"] = 30110384,["E05"] = 30110385,["E06"] = 30110386,["E07"] = 30110387,["E08"] = 30110388,["E09"] = 30110389,["E10"] = 30110390,["C01"] = 30110391,["C02"] = 30110392,["C03"] = 30110393,["C04"] = 30110394,["C05"] = 30110395,["C06"] = 30110396,["C07"] = 30110397,["C08"] = 30110398,["C09"] = 30110399,["C10"] = 30110400,["D01"] = 30110411,["D02"] = 30110412,["D03"] = 30110413,["D04"] = 30110414,["D05"] = 30110415,["D06"] = 30110416,["D07"] = 30110417,["D08"] = 30110418,["D09"] = 30110419,["D10"] = 30110420,["N01"] = 30111191,["N02"] = 30111192,["N03"] = 30111193,["N04"] = 30111194,["N05"] = 30111195,["N06"] = 30111196,["N07"] = 30111197,["N08"] = 30111198,["N09"] = 30111199,["N10"] = 30111200,["O01"] = 30111201,["O02"] = 30111202,["O03"] = 30111203,["O04"] = 30111204,["O05"] = 30111205,["O06"] = 30111206,["O07"] = 30111207,["O08"] = 30111208,["O09"] = 30111209,["O10"] = 30111210,["P01"] = 30111211,["P02"] = 30111212,["P03"] = 30111213,["P04"] = 30111214,["P05"] = 30111215,["P06"] = 30111216,["P07"] = 30111217,["P08"] = 30111218,["P09"] = 30111219,["P10"] = 30111220,["Q01"] = 30111221,["Q02"] = 30111222,["Q03"] = 30111223,["Q04"] = 30111224,["Q05"] = 30111225,["Q06"] = 30111226,["Q07"] = 30111227,["Q08"] = 30111228,["Q09"] = 30111229,["Q10"] = 30111230,}
	end
	if nEquipPoint == 14 then
		--护腕
		nTable = {["A01"] = 30110321,["A02"] = 30110322,["A03"] = 30110323,["A04"] = 30110324,["A05"] = 30110325,["A06"] = 30110326,["A07"] = 30110327,["A08"] = 30110328,["A09"] = 30110329,["A10"] = 30110330,["B01"] = 30110331,["B02"] = 30110332,["B03"] = 30110333,["B04"] = 30110334,["B05"] = 30110335,["B06"] = 30110336,["B07"] = 30110337,["B08"] = 30110338,["B09"] = 30110339,["B10"] = 30110340,["F01"] = 30110341,["F02"] = 30110342,["F03"] = 30110343,["F04"] = 30110344,["F05"] = 30110345,["F06"] = 30110346,["F07"] = 30110347,["F08"] = 30110348,["F09"] = 30110349,["F10"] = 30110350,["G01"] = 30110351,["G02"] = 30110352,["G03"] = 30110353,["G04"] = 30110354,["G05"] = 30110355,["G06"] = 30110356,["G07"] = 30110357,["G08"] = 30110358,["G09"] = 30110359,["G10"] = 30110360,["H01"] = 30110361,["H02"] = 30110362,["H03"] = 30110363,["H04"] = 30110364,["H05"] = 30110365,["H06"] = 30110366,["H07"] = 30110367,["H08"] = 30110368,["H09"] = 30110369,["H10"] = 30110370,["I01"] = 30110371,["I02"] = 30110372,["I03"] = 30110373,["I04"] = 30110374,["I05"] = 30110375,["I06"] = 30110376,["I07"] = 30110377,["I08"] = 30110378,["I09"] = 30110379,["I10"] = 30110380,["J01"] = 30111311,["J02"] = 30111312,["J03"] = 30111313,["J04"] = 30111314,["J05"] = 30111315,["J06"] = 30111316,["J07"] = 30111317,["J08"] = 30111318,["J09"] = 30111319,["J10"] = 30111320,["K01"] = 30111321,["K02"] = 30111322,["K03"] = 30111323,["K04"] = 30111324,["K05"] = 30111325,["K06"] = 30111326,["K07"] = 30111327,["K08"] = 30111328,["K09"] = 30111329,["K10"] = 30111330,["L01"] = 30111331,["L02"] = 30111332,["L03"] = 30111333,["L04"] = 30111334,["L05"] = 30111335,["L06"] = 30111336,["L07"] = 30111337,["L08"] = 30111338,["L09"] = 30111339,["L10"] = 30111340,["M01"] = 30111341,["M02"] = 30111342,["M03"] = 30111343,["M04"] = 30111344,["M05"] = 30111345,["M06"] = 30111346,["M07"] = 30111347,["M08"] = 30111348,["M09"] = 30111349,["M10"] = 30111350,}
	end
	if nEquipPoint == 7 then
		--项链
		nTable = {["F01"] = 30111391,["F02"] = 30111392,["F03"] = 30111393,["F04"] = 30111394,["F05"] = 30111395,["F06"] = 30111396,["F07"] = 30111397,["F08"] = 30111398,["F09"] = 30111399,["F10"] = 30111400,["G01"] = 30111401,["G02"] = 30111402,["G03"] = 30111403,["G04"] = 30111404,["G05"] = 30111405,["G06"] = 30111406,["G07"] = 30111407,["G08"] = 30111408,["G09"] = 30111409,["G10"] = 30111410,["H01"] = 30111411,["H02"] = 30111412,["H03"] = 30111413,["H04"] = 30111414,["H05"] = 30111415,["H06"] = 30111416,["H07"] = 30111417,["H08"] = 30111418,["H09"] = 30111419,["H10"] = 30111420,["I01"] = 30111421,["I02"] = 30111422,["I03"] = 30111423,["I04"] = 30111424,["I05"] = 30111425,["I06"] = 30111426,["I07"] = 30111427,["I08"] = 30111428,["I09"] = 30111429,["I10"] = 30111430,["R01"] = 30110031,["R02"] = 30110032,["R03"] = 30110033,["R04"] = 30110034,["R05"] = 30110035,["R06"] = 30110036,["R07"] = 30110037,["R08"] = 30110038,["R09"] = 30110039,["R10"] = 30110040,["S01"] = 30110041,["S02"] = 30110042,["S03"] = 30110043,["S04"] = 30110044,["S05"] = 30110045,["S06"] = 30110046,["S07"] = 30110047,["S08"] = 30110048,["S09"] = 30110049,["S10"] = 30110050,["T01"] = 30110051,["T02"] = 30110052,["T03"] = 30110053,["T04"] = 30110054,["T05"] = 30110055,["T06"] = 30110056,["T07"] = 30110057,["T08"] = 30110058,["T09"] = 30110059,["T10"] = 30110060,["U01"] = 30110061,["U02"] = 30110062,["U03"] = 30110063,["U04"] = 30110064,["U05"] = 30110065,["U06"] = 30110066,["U07"] = 30110067,["U08"] = 30110068,["U09"] = 30110069,["U10"] = 30110070,}
	end
	if nEquipPoint == 17 then
		--暗器
		nTable = {["A01"] = 30110421,["A02"] =30110422,["A03"] =30110423,["A04"] =30110424,["A05"] =30110425,["A06"] =30110426,["A07"] =30110427,["A08"] =30110428,["A09"] =30110429,["A10"] =30110430,["B01"] =30110431,["B02"] =30110432,["B03"] =30110433,["B04"] =30110434,["B05"] =30110435,["B06"] =30110436,["B07"] =30110437,["B08"] =30110438,["B09"] =30110439,["B10"] =30110440,["D01"] =30110441,["D02"] =30110442,["D03"] =30110443,["D04"] =30110444,["D05"] =30110445,["D06"] =30110446,["D07"] =30110447,["D08"] =30110448,["D09"] =30110449,["D10"] =30110450,["E01"] =30110451,["E02"] =30110452,["E03"] =30110453,["E04"] =30110454,["E05"] =30110455,["E06"] =30110456,["E07"] =30110457,["E08"] =30110458,["E09"] =30110459,["E10"] =30110460,["C01"] =30110461,["C02"] =30110462,["C03"] =30110463,["C04"] =30110464,["C05"] =30110465,["C06"] =30110466,["C07"] =30110467,["C08"] =30110468,["C09"] =30110469,["C10"] =30110470,["F01"] =30110651,["F02"] =30110652,["F03"] =30110653,["F04"] =30110654,["F05"] =30110655,["F06"] =30110656,["F07"] =30110657,["F08"] =30110658,["F09"] =30110659,["F10"] =30110660,["G01"] =30110661,["G02"] =30110662,["G03"] =30110663,["G04"] =30110664,["G05"] =30110665,["G06"] =30110666,["G07"] =30110667,["G08"] =30110668,["G09"] =30110669,["G10"] =30110670,["H01"] =30110671,["H02"] =30110672,["H03"] =30110673,["H04"] =30110674,["H05"] =30110675,["H06"] =30110676,["H07"] =30110677,["H08"] =30110678,["H09"] =30110679,["H10"] =30110680,["I01"] =30110681,["I02"] =30110682,["I03"] =30110683,["I04"] =30110684,["I05"] =30110685,["I06"] =30110686,["I07"] =30110687,["I08"] =30110688,["I09"] =30110689,["I10"] =30110690,["N01"] =30110691,["N02"] =30110692,["N03"] =30110693,["N04"] =30110694,["N05"] =30110695,["N06"] =30110696,["N07"] =30110697,["N08"] =30110698,["N09"] =30110699,["N10"] =30110700,["O01"] =30110701,["O02"] =30110702,["O03"] =30110703,["O04"] =30110704,["O05"] =30110705,["O06"] =30110706,["O07"] =30110707,["O08"] =30110708,["O09"] =30110709,["O10"] =30110710,["P01"] =30110711,["P02"] =30110712,["P03"] =30110713,["P04"] =30110714,["P05"] =30110715,["P06"] =30110716,["P07"] =30110717,["P08"] =30110718,["P09"] =30110719,["P10"] =30110720,["Q01"] =30110721,["Q02"] =30110722,["Q03"] =30110723,["Q04"] =30110724,["Q05"] =30110725,["Q06"] =30110726,["Q07"] =30110727,["Q08"] =30110728,["Q09"] =30110729,["Q10"] =30110730,["J01"] =30110811,["J02"] =30110812,["J03"] =30110813,["J04"] =30110814,["J05"] =30110815,["J06"] =30110816,["J07"] =30110817,["J08"] =30110818,["J09"] =30110819,["J10"] =30110820,["K01"] =30110821,["K02"] =30110822,["K03"] =30110823,["K04"] =30110824,["K05"] =30110825,["K06"] =30110826,["K07"] =30110827,["K08"] =30110828,["K09"] =30110829,["K10"] =30110830,["L01"] =30110831,["L02"] =30110832,["L03"] =30110833,["L04"] =30110834,["L05"] =30110835,["L06"] =30110836,["L07"] =30110837,["L08"] =30110838,["L09"] =30110839,["L10"] =30110840,["M01"] =30110841,["M02"] =30110842,["M03"] =30110843,["M04"] =30110844,["M05"] =30110845,["M06"] =30110846,["M07"] =30110847,["M08"] =30110848,["M09"] =30110849,["M10"] =30110850}
	end
	if nEquipPoint == 18 then
		--龙纹
		nTable = {["A01"] = 30110561,["A02"] = 30110562,["A03"] = 30110563,["A04"] = 30110564,["A05"] = 30110565,["A06"] = 30110566,["A07"] = 30110567,["A08"] = 30110568,["A09"] = 30110569,["A10"] = 30110570,["B01"] = 30110571,["B02"] = 30110572,["B03"] = 30110573,["B04"] = 30110574,["B05"] = 30110575,["B06"] = 30110576,["B07"] = 30110577,["B08"] = 30110578,["B09"] = 30110579,["B10"] = 30110580,["D01"] = 30110581,["D02"] = 30110582,["D03"] = 30110583,["D04"] = 30110584,["D05"] = 30110585,["D06"] = 30110586,["D07"] = 30110587,["D08"] = 30110588,["D09"] = 30110589,["D10"] = 30110590,["E01"] = 30110591,["E02"] = 30110592,["E03"] = 30110593,["E04"] = 30110594,["E05"] = 30110595,["E06"] = 30110596,["E07"] = 30110597,["E08"] = 30110598,["E09"] = 30110599,["E10"] = 30110600,["C01"] = 30110601,["C02"] = 30110602,["C03"] = 30110603,["C04"] = 30110604,["C05"] = 30110605,["C06"] = 30110606,["C07"] = 30110607,["C08"] = 30110608,["C09"] = 30110609,["C10"] = 30110610,["F01"] = 30110611,["F02"] = 30110612,["F03"] = 30110613,["F04"] = 30110614,["F05"] = 30110615,["F06"] = 30110616,["F07"] = 30110617,["F08"] = 30110618,["F09"] = 30110619,["F10"] = 30110620,["G01"] = 30110621,["G02"] = 30110622,["G03"] = 30110623,["G04"] = 30110624,["G05"] = 30110625,["G06"] = 30110626,["G07"] = 30110627,["G08"] = 30110628,["G09"] = 30110629,["G10"] = 30110630,["H01"] = 30110631,["H02"] = 30110632,["H03"] = 30110633,["H04"] = 30110634,["H05"] = 30110635,["H06"] = 30110636,["H07"] = 30110637,["H08"] = 30110638,["H09"] = 30110639,["H10"] = 30110640,["I01"] = 30110641,["I02"] = 30110642,["I03"] = 30110643,["I04"] = 30110644,["I05"] = 30110645,["I06"] = 30110646,["I07"] = 30110647,["I08"] = 30110648,["I09"] = 30110649,["I10"] = 30110650,["N01"] = 30110771,["N02"] = 30110772,["N03"] = 30110773,["N04"] = 30110774,["N05"] = 30110775,["N06"] = 30110776,["N07"] = 30110777,["N08"] = 30110778,["N09"] = 30110779,["N10"] = 30110780,["O01"] = 30110781,["O02"] = 30110782,["O03"] = 30110783,["O04"] = 30110784,["O05"] = 30110785,["O06"] = 30110786,["O07"] = 30110787,["O08"] = 30110788,["O09"] = 30110789,["O10"] = 30110790,["P01"] = 30110791,["P02"] = 30110792,["P03"] = 30110793,["P04"] = 30110794,["P05"] = 30110795,["P06"] = 30110796,["P07"] = 30110797,["P08"] = 30110798,["P09"] = 30110799,["P10"] = 30110800,["Q01"] = 30110801,["Q02"] = 30110802,["Q03"] = 30110803,["Q04"] = 30110804,["Q05"] = 30110805,["Q06"] = 30110806,["Q07"] = 30110807,["Q08"] = 30110808,["Q09"] = 30110809,["Q10"] = 30110810,["J01"] = 30110891,["J02"] = 30110892,["J03"] = 30110893,["J04"] = 30110894,["J05"] = 30110895,["J06"] = 30110896,["J07"] = 30110897,["J08"] = 30110898,["J09"] = 30110899,["J10"] = 30110900,["K01"] = 30110901,["K02"] = 30110902,["K03"] = 30110903,["K04"] = 30110904,["K05"] = 30110905,["K06"] = 30110906,["K07"] = 30110907,["K08"] = 30110908,["K09"] = 30110909,["K10"] = 30110910,["L01"] = 30110911,["L02"] = 30110912,["L03"] = 30110913,["L04"] = 30110914,["L05"] = 30110915,["L06"] = 30110916,["L07"] = 30110917,["L08"] = 30110918,["L09"] = 30110919,["L10"] = 30110920,["M01"] = 30110921,["M02"] = 30110922,["M03"] = 30110923,["M04"] = 30110924,["M05"] = 30110925,["M06"] = 30110926,["M07"] = 30110927,["M08"] = 30110928,["M09"] = 30110929,["M10"] = 30110930,}
	end
	if nEquipPoint == 10 then
		--武魂
		nTable = {["A01"] = 30110471,["A02"] = 30110472,["A03"] = 30110473,["A04"] = 30110474,["A05"] = 30110475,["A06"] = 30110476,["A07"] = 30110477,["A08"] = 30110478,["A09"] = 30110479,["A10"] = 30110480,["B01"] = 30110481,["B02"] = 30110482,["B03"] = 30110483,["B04"] = 30110484,["B05"] = 30110485,["B06"] = 30110486,["B07"] = 30110487,["B08"] = 30110488,["B09"] = 30110489,["B10"] = 30110490,["D01"] = 30110491,["D02"] = 30110492,["D03"] = 30110493,["D04"] = 30110494,["D05"] = 30110495,["D06"] = 30110496,["D07"] = 30110497,["D08"] = 30110498,["D09"] = 30110499,["D10"] = 30110500,["E01"] = 30110501,["E02"] = 30110502,["E03"] = 30110503,["E04"] = 30110504,["E05"] = 30110505,["E06"] = 30110506,["E07"] = 30110507,["E08"] = 30110508,["E09"] = 30110509,["E10"] = 30110510,["C01"] = 30110511,["C02"] = 30110512,["C03"] = 30110513,["C04"] = 30110514,["C05"] = 30110515,["C06"] = 30110516,["C07"] = 30110517,["C08"] = 30110518,["C09"] = 30110519,["C10"] = 30110520,["F01"] = 30110521,["F02"] = 30110522,["F03"] = 30110523,["F04"] = 30110524,["F05"] = 30110525,["F06"] = 30110526,["F07"] = 30110527,["F08"] = 30110528,["F09"] = 30110529,["F10"] = 30110530,["G01"] = 30110531,["G02"] = 30110532,["G03"] = 30110533,["G04"] = 30110534,["G05"] = 30110535,["G06"] = 30110536,["G07"] = 30110537,["G08"] = 30110538,["G09"] = 30110539,["G10"] = 30110540,["H01"] = 30110541,["H02"] = 30110542,["H03"] = 30110543,["H04"] = 30110544,["H05"] = 30110545,["H06"] = 30110546,["H07"] = 30110547,["H08"] = 30110548,["H09"] = 30110549,["H10"] = 30110550,["I01"] = 30110551,["I02"] = 30110552,["I03"] = 30110553,["I04"] = 30110554,["I05"] = 30110555,["I06"] = 30110556,["I07"] = 30110557,["I08"] = 30110558,["I09"] = 30110559,["I10"] = 30110560,["N01"] = 30110731,["N02"] = 30110732,["N03"] = 30110733,["N04"] = 30110734,["N05"] = 30110735,["N06"] = 30110736,["N07"] = 30110737,["N08"] = 30110738,["N09"] = 30110739,["N10"] = 30110740,["O01"] = 30110741,["O02"] = 30110742,["O03"] = 30110743,["O04"] = 30110744,["O05"] = 30110745,["O06"] = 30110746,["O07"] = 30110747,["O08"] = 30110748,["O09"] = 30110749,["O10"] = 30110750,["P01"] = 30110751,["P02"] = 30110752,["P03"] = 30110753,["P04"] = 30110754,["P05"] = 30110755,["P06"] = 30110756,["P07"] = 30110757,["P08"] = 30110758,["P09"] = 30110759,["P10"] = 30110760,["Q01"] = 30110761,["Q02"] = 30110762,["Q03"] = 30110763,["Q04"] = 30110764,["Q05"] = 30110765,["Q06"] = 30110766,["Q07"] = 30110767,["Q08"] = 30110768,["Q09"] = 30110769,["Q10"] = 30110770,["J01"] = 30110851,["J02"] = 30110852,["J03"] = 30110853,["J04"] = 30110854,["J05"] = 30110855,["J06"] = 30110856,["J07"] = 30110857,["J08"] = 30110858,["J09"] = 30110859,["J10"] = 30110860,["K01"] = 30110861,["K02"] = 30110862,["K03"] = 30110863,["K04"] = 30110864,["K05"] = 30110865,["K06"] = 30110866,["K07"] = 30110867,["K08"] = 30110868,["K09"] = 30110869,["K10"] = 30110870,["L01"] = 30110871,["L02"] = 30110872,["L03"] = 30110873,["L04"] = 30110874,["L05"] = 30110875,["L06"] = 30110876,["L07"] = 30110877,["L08"] = 30110878,["L09"] = 30110879,["L10"] = 30110880,["M01"] = 30110881,["M02"] = 30110882,["M03"] = 30110883,["M04"] = 30110884,["M05"] = 30110885,["M06"] = 30110886,["M07"] = 30110887,["M08"] = 30110888,["M09"] = 30110889,["M10"] = 30110890,}
	end
	if nEquipPoint == 9 then
		--令牌
		nTable = {["A01"] = 30110941,["A02"] = 30110942,["A03"] = 30110943,["A04"] = 30110944,["A05"] = 30110945,["A06"] = 30110946,["A07"] = 30110947,["A08"] = 30110948,["A09"] = 30110949,["A10"] = 30110950,["B01"] = 30110951,["B02"] = 30110952,["B03"] = 30110953,["B04"] = 30110954,["B05"] = 30110955,["B06"] = 30110956,["B07"] = 30110957,["B08"] = 30110958,["B09"] = 30110959,["B10"] = 30110960,["D01"] = 30110961,["D02"] = 30110962,["D03"] = 30110963,["D04"] = 30110964,["D05"] = 30110965,["D06"] = 30110966,["D07"] = 30110967,["D08"] = 30110968,["D09"] = 30110969,["D10"] = 30110970,["E01"] = 30110971,["E02"] = 30110972,["E03"] = 30110973,["E04"] = 30110974,["E05"] = 30110975,["E06"] = 30110976,["E07"] = 30110977,["E08"] = 30110978,["E09"] = 30110979,["E10"] = 30110980,["C01"] = 30110981,["C02"] = 30110982,["C03"] = 30110983,["C04"] = 30110984,["C05"] = 30110985,["C06"] = 30110986,["C07"] = 30110987,["C08"] = 30110988,["C09"] = 30110989,["C10"] = 30110990,["F01"] = 30110991,["F02"] = 30110992,["F03"] = 30110993,["F04"] = 30110994,["F05"] = 30110995,["F06"] = 30110996,["F07"] = 30110997,["F08"] = 30110998,["F09"] = 30110999,["F10"] = 30111000,["G01"] = 30111001,["G02"] = 30111002,["G03"] = 30111003,["G04"] = 30111004,["G05"] = 30111005,["G06"] = 30111006,["G07"] = 30111007,["G08"] = 30111008,["G09"] = 30111009,["G10"] = 30111010,["H01"] = 30111011,["H02"] = 30111012,["H03"] = 30111013,["H04"] = 30111014,["H05"] = 30111015,["H06"] = 30111016,["H07"] = 30111017,["H08"] = 30111018,["H09"] = 30111019,["H10"] = 30111020,["I01"] = 30111021,["I02"] = 30111022,["I03"] = 30111023,["I04"] = 30111024,["I05"] = 30111025,["I06"] = 30111026,["I07"] = 30111027,["I08"] = 30111028,["I09"] = 30111029,["I10"] = 30111030,["N01"] = 30111031,["N02"] = 30111032,["N03"] = 30111033,["N04"] = 30111034,["N05"] = 30111035,["N06"] = 30111036,["N07"] = 30111037,["N08"] = 30111038,["N09"] = 30111039,["N10"] = 30111040,["O01"] = 30111041,["O02"] = 30111042,["O03"] = 30111043,["O04"] = 30111044,["O05"] = 30111045,["O06"] = 30111046,["O07"] = 30111047,["O08"] = 30111048,["O09"] = 30111049,["O10"] = 30111050,["P01"] = 30111051,["P02"] = 30111052,["P03"] = 30111053,["P04"] = 30111054,["P05"] = 30111055,["P06"] = 30111056,["P07"] = 30111057,["P08"] = 30111058,["P09"] = 30111059,["P10"] = 30111060,["Q01"] = 30111061,["Q02"] = 30111062,["Q03"] = 30111063,["Q04"] = 30111064,["Q05"] = 30111065,["Q06"] = 30111066,["Q07"] = 30111067,["Q08"] = 30111068,["Q09"] = 30111069,["Q10"] = 30111070,["J01"] = 30111071,["J02"] = 30111072,["J03"] = 30111073,["J04"] = 30111074,["J05"] = 30111075,["J06"] = 30111076,["J07"] = 30111077,["J08"] = 30111078,["J09"] = 30111079,["J10"] = 30111080,["K01"] = 30111081,["K02"] = 30111082,["K03"] = 30111083,["K04"] = 30111084,["K05"] = 30111085,["K06"] = 30111086,["K07"] = 30111087,["K08"] = 30111088,["K09"] = 30111089,["K10"] = 30111090,["L01"] = 30111091,["L02"] = 30111092,["L03"] = 30111093,["L04"] = 30111094,["L05"] = 30111095,["L06"] = 30111096,["L07"] = 30111097,["L08"] = 30111098,["L09"] = 30111099,["L10"] = 30111100,["M01"] = 30111101,["M02"] = 30111102,["M03"] = 30111103,["M04"] = 30111104,["M05"] = 30111105,["M06"] = 30111106,["M07"] = 30111107,["M08"] = 30111108,["M09"] = 30111109,["M10"] = 30111110,}
	end
	--2019-11-10 19:49:39 逍遥子 豪侠印开放
	if nEquipPoint == 21 then
		nTable = {["A01"]=30111431,["A02"]=30111432,["A03"]=30111433,["A04"]=30111434,["A05"]=30111435,["A06"]=30111436,["A07"]=30111437,["A08"]=30111438,["A09"]=30111439,["A10"]=30111440,["B01"]=30111441,["B02"]=30111442,["B03"]=30111443,["B04"]=30111444,["B05"]=30111445,["B06"]=30111446,["B07"]=30111447,["B08"]=30111448,["B09"]=30111449,["B10"]=30111450,["D01"]=30111451,["D02"]=30111452,["D03"]=30111453,["D04"]=30111454,["D05"]=30111455,["D06"]=30111456,["D07"]=30111457,["D08"]=30111458,["D09"]=30111459,["D10"]=30111460,["E01"]=30111461,["E02"]=30111462,["E03"]=30111463,["E04"]=30111464,["E05"]=30111465,["E06"]=30111466,["E07"]=30111467,["E08"]=30111468,["E09"]=30111469,["E10"]=30111470,["C01"]=30111471,["C02"]=30111472,["C03"]=30111473,["C04"]=30111474,["C05"]=30111475,["C06"]=30111476,["C07"]=30111477,["C08"]=30111478,["C09"]=30111479,["C10"]=30111480,["F01"]=30111481,["F02"]=30111482,["F03"]=30111483,["F04"]=30111484,["F05"]=30111485,["F06"]=30111486,["F07"]=30111487,["F08"]=30111488,["F09"]=30111489,["F10"]=30111490,["G01"]=30111491,["G02"]=30111492,["G03"]=30111493,["G04"]=30111494,["G05"]=30111495,["G06"]=30111496,["G07"]=30111497,["G08"]=30111498,["G09"]=30111499,["G10"]=30111500,["H01"]=30111501,["H02"]=30111502,["H03"]=30111503,["H04"]=30111504,["H05"]=30111505,["H06"]=30111506,["H07"]=30111507,["H08"]=30111508,["H09"]=30111509,["H10"]=30111510,["I01"]=30111511,["I02"]=30111512,["I03"]=30111513,["I04"]=30111514,["I05"]=30111515,["I06"]=30111516,["I07"]=30111517,["I08"]=30111518,["I09"]=30111519,["I10"]=30111520,["N01"]=30111521,["N02"]=30111522,["N03"]=30111523,["N04"]=30111524,["N05"]=30111525,["N06"]=30111526,["N07"]=30111527,["N08"]=30111528,["N09"]=30111529,["N10"]=30111530,["O01"]=30111531,["O02"]=30111532,["O03"]=30111533,["O04"]=30111534,["O05"]=30111535,["O06"]=30111536,["O07"]=30111537,["O08"]=30111538,["O09"]=30111539,["O10"]=30111540,["P01"]=30111541,["P02"]=30111542,["P03"]=30111543,["P04"]=30111544,["P05"]=30111545,["P06"]=30111546,["P07"]=30111547,["P08"]=30111548,["P09"]=30111549,["P10"]=30111550,["Q01"]=30111551,["Q02"]=30111552,["Q03"]=30111553,["Q04"]=30111554,["Q05"]=30111555,["Q06"]=30111556,["Q07"]=30111557,["Q08"]=30111558,["Q09"]=30111559,["Q10"]=30111560,["J01"]=30111561,["J02"]=30111562,["J03"]=30111563,["J04"]=30111564,["J05"]=30111565,["J06"]=30111566,["J07"]=30111567,["J08"]=30111568,["J09"]=30111569,["J10"]=30111570,["K01"]=30111571,["K02"]=30111572,["K03"]=30111573,["K04"]=30111574,["K05"]=30111575,["K06"]=30111576,["K07"]=30111577,["K08"]=30111578,["K09"]=30111579,["K10"]=30111580,["L01"]=30111581,["L02"]=30111582,["L03"]=30111583,["L04"]=30111584,["L05"]=30111585,["L06"]=30111586,["L07"]=30111587,["L08"]=30111588,["L09"]=30111589,["L10"]=30111590,["M01"]=30111591,["M02"]=30111592,["M03"]=30111593,["M04"]=30111594,["M05"]=30111595,["M06"]=30111596,["M07"]=30111597,["M08"]=30111598,["M09"]=30111599,["M10"]=30111600,}
	end
	if nTable[nType_1..nData_1] ~= nil then
		nDWID_1 = nTable[nType_1..nData_1]
	end
	if nTable[nType_2..nData_2] ~= nil then
		nDWID_2 = nTable[nType_2..nData_2]
	end
--   本来配表就有问题，下边的憨憨写法更有问题，只能用最笨的办法了
--	local nDWRuleNum = 0
--	for i = 1,table.getn(g_DWRuleTab) do
--		if g_DWRuleTab[i][nEquipPoint + 1] == 1 then
--			nDWRuleNum = i
--		end
--	end
--	local t_DWItem = {} --这里是所有该装备能穿的雕纹
--	if nDWRuleNum ~= 0 then
--		for i = 30110001,30111600 do
--			if g_DWValue[i] ~= nil and g_DWValue[i] == nDWRuleNum then
--				table.insert(t_DWItem,i)
--			end
--		end
--	end
--	local nAttr_ecName_1 = g_DWInfo[nType_1][tonumber(nLevel_1)][1]
--	local nAttr_ecName_2 = ""
--	if nType_2 ~= "" and nLevel_2 ~= "" then
--		nAttr_ecName_2 = g_DWInfo[nType_2][tonumber(nLevel_2)][1]
--	end
--	for i = 1,table.getn(t_DWItem) do
--		local DWName = LuaFnGetItemName(t_DWItem[i])
--		local nPos_1 = string.find(DWName,nAttr_ecName_1)
--		if nPos_1 ~= nil then
--			nDWID_1 = t_DWItem[i]
--		end
--		if nAttr_ecName_2 ~= "" then
--			local nPos_2 = string.find(DWName,nAttr_ecName_2)
--			if nPos_2 ~= nil then
--				nDWID_2 = t_DWItem[i]
--			end
--		end
--	end
	return nDWID_1,nDWID_2
end
function GetDiaowenId(nPos)
	--nDiaoWenID,nDiaoWenLevel,nDiaoWenType
	local nItemID = PlayerPackage:GetItemTableIndex(nPos)
	local nDiaoWenLevel,nDiaoWenType = -1,1
	--nDiaoWenType 1普通 2减抗 3抗性
	if nItemID >= 30110001 and nItemID <= 30111600 then
		nDiaoWenLevel = math.mod(nItemID,10)
		if nDiaoWenLevel == 0 then --0就是10级
			nDiaoWenLevel = 10
		end
		local DWName = LuaFnGetItemName(nItemID)
		local nPos_1 = string.find(DWName,"抗")--此处着实无奈啊，配表没搞好，共军太狡猾！！！！
		if nPos_1 ~= nil then
			nDiaoWenType = 3
			local nPos_2 = string.find(DWName,"减")
			if nPos_2 ~= nil then
				nDiaoWenType = 2
			end
		end
		return nItemID,nDiaoWenLevel,nDiaoWenType
	else
		return -1,-1
	end
end
function Lua_GetDWLeveUpMsg(nData,nLevel_1,nLevel_2)
	local nAttr_ec_1,nAttr_ec_2 = 0,0
	local nAttr_ecName_1,nAttr_ecName_2 = "",""
	local nRequireMat_1,nRequireMat_2 = 0,0
	if nData ==nil or nData =="" then 
        return nAttr_ec_1,nAttr_ecName_1,nAttr_ec_2,nAttr_ecName_2,nRequireMat_1,nRequireMat_2
    end 
    local pos1,pos2,nType_1,nDWlevel_1,nType_2,nDWlevel_2 = string.find(nData,"&DW(%w)(%w%w)(%w)(%w%w)")
    if pos1 == nil or pos2 == nil then
        return nAttr_ec_1,nAttr_ecName_1,nAttr_ec_2,nAttr_ecName_2,nRequireMat_1,nRequireMat_2
    end
	if nLevel_1 == nil or nLevel_1 == 0 then
		nLevel_1 = 2 --因为传过来的值最低是2
	end
--	if nLevel_2 == nil or nLevel_2 == 0 then
--		nLevel_2 = 2
--	end
	nAttr_ec_1 = g_DWInfo[nType_1][tonumber(nLevel_1)-1][4]
	if nType_1 == "R" or nType_1 == "S" or nType_1 == "T" or nType_1 == "U" then
		nAttr_ec_1 = 0
	end
	if nLevel_2 ~= nil and nLevel_2 ~= 0 then
		nAttr_ec_2 = g_DWInfo[nType_2][tonumber(nLevel_2)][4]
	end
	if nType_2 == "R" or nType_2 == "S" or nType_2 == "T" or nType_2 == "U" then
		nAttr_ec_2 = 0
	end
	nAttr_ecName_1 = g_DWInfo[nType_1][tonumber(nLevel_1)][5]
	if nLevel_2 ~= nil and nLevel_2 ~= 0 then
		nAttr_ecName_2 = g_DWInfo[nType_2][tonumber(nLevel_2)][5]
	end
	if nLevel_1 ~= nil and nLevel_1 ~= 0 then
		for i = tonumber(nDWlevel_1),tonumber(nLevel_1) - 1 do
			nRequireMat_1 = nRequireMat_1 + g_DWInfo[nType_1][i][3]
		end
--		nRequireMat_1 = g_DWInfo[nType_1][tonumber(nLevel_1)-1][3]
	end
	if nLevel_2 ~= nil and nLevel_2 ~= 0 then
		for i = tonumber(nDWlevel_1),tonumber(nLevel_1) - 1 do
			nRequireMat_2 = nRequireMat_2 + g_DWInfo[nType_2][i][3]
		end
--		nRequireMat_2 = g_DWInfo[nType_2][tonumber(nLevel_2)-1][3]
	end
	return nAttr_ec_1,nAttr_ecName_1,nAttr_ec_2,nAttr_ecName_2,nRequireMat_1,nRequireMat_2
end

function Lua_GetDWShowMsgEx()
	local nData = DataPool:GetPlayerMission_DataRound(378)
	-- if DataPool:GetXYJServerData(200) ~= -1 then
	    -- nData = DataPool:GetXYJServerData(200)
	-- end
	local nLevel,nitem = math.floor(nData/10000),math.mod(nData,10000)
	local nHaveItem = ""
	if nitem < 10 then
	   nHaveItem = "000"..tostring(nitem)
	end
	if nitem >= 10 and nitem < 100 then
	   nHaveItem = "00"..tostring(nitem)
	end
	if nitem >= 100 and nitem < 1000 then
	   nHaveItem = "0"..tostring(nitem)
	end
	if nitem >= 1000 then
	   nHaveItem = nitem
	end	
	local nDataEx = "&DW"
	if nLevel ~= 0 then
	    if nLevel < 10 then
		   nDataEx = nDataEx.."D0"..nLevel..nHaveItem
		else 
           nDataEx = nDataEx.."D"..nLevel..nHaveItem 		
		end
	end
	local result,resIcon_1,resIcon_2,nLevel_ec_1,nLevel_ec_2,nDWName_1,nDWName_2 = Lua_GetDWShowMsg(nDataEx)
	return result,resIcon_1,resIcon_2,nLevel_ec_1,nLevel_ec_2,nDWName_1,nDWName_2,nData
end

function Lua_GetDWShowMsg(nData)
	--20190505 基本完成
	--20190506 添加雕纹名称输出
	local result,resIcon_1,resIcon_2 = "","",""
	local nLevel_ec_1,nLevel_ec_2 = 0,0
	local nDWName_1,nDWName_2 = "",""
	
    if nData == nil or nData == "" then
        return result,resIcon_1,resIcon_2,nLevel_ec_1,nLevel_ec_2,nDWName_1,nDWName_2
    end
	local pos1,pos2,nType_1,nData_1,nData_2 = string.find(nData,"&DW(%w)(%w%w)(%w%w%w%w)")
	if pos1 == nil or pos2 == nil then
		return result,resIcon_1,resIcon_2,nLevel_ec_1,nLevel_ec_2,nDWName_1,nDWName_2
	end	
	if nType_1 ~= "0" and nData_1 ~= "00"  then --单个雕纹的情况
		local needMaterial = "#{ZBDW_XML_29}"..tonumber(nData_2).."/"..g_DWInfo[nType_1][tonumber(nData_1)][3]
		if g_DWInfo[nType_1][tonumber(nData_1)][3] == -1 then
			needMaterial = "#{ZBDW_XML_30}"
		end
		local nFinalAdd = g_DWInfo[nType_1][tonumber(nData_1)][5].."+"..g_DWInfo[nType_1][tonumber(nData_1)][4]
		--心法雕纹显示修正
		if nType_1 == "R" or nType_1 == "S" or nType_1 == "T" or nType_1 == "U" then
			nFinalAdd = g_DWInfo[nType_1][tonumber(nData_1)][4]
		end
		--心法雕纹显示修正
		result = "#cFF0000"..g_DWInfo[nType_1][tonumber(nData_1)][1].."\n"..needMaterial.."\n"..nFinalAdd.."\n"
		resIcon_1 = g_DWInfo[nType_1][tonumber(nData_1)][2]
		nLevel_ec_1 = tonumber(nData_1)
		nDWName_1 = g_DWInfo[nType_1][tonumber(nData_1)][5]--.."雕纹"
	end
	return result,resIcon_1,resIcon_2,nLevel_ec_1,nLevel_ec_2,nDWName_1,nDWName_2
end
